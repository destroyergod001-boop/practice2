(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hf={exports:{}},Cs={},pf={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo=Symbol.for("react.element"),Hm=Symbol.for("react.portal"),Vm=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),Wm=Symbol.for("react.provider"),Ym=Symbol.for("react.context"),Xm=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Qm=Symbol.for("react.memo"),Gm=Symbol.for("react.lazy"),uc=Symbol.iterator;function Zm(e){return e===null||typeof e!="object"?null:(e=uc&&e[uc]||e["@@iterator"],typeof e=="function"?e:null)}var mf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gf=Object.assign,yf={};function Dr(e,t,n){this.props=e,this.context=t,this.refs=yf,this.updater=n||mf}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xf(){}xf.prototype=Dr.prototype;function Ya(e,t,n){this.props=e,this.context=t,this.refs=yf,this.updater=n||mf}var Xa=Ya.prototype=new xf;Xa.constructor=Ya;gf(Xa,Dr.prototype);Xa.isPureReactComponent=!0;var cc=Array.isArray,vf=Object.prototype.hasOwnProperty,Ka={current:null},wf={key:!0,ref:!0,__self:!0,__source:!0};function Sf(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)vf.call(t,r)&&!wf.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Xo,type:e,key:i,ref:s,props:o,_owner:Ka.current}}function qm(e,t){return{$$typeof:Xo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xo}function Jm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dc=/\/+/g;function Js(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jm(""+e.key):t.toString(36)}function ji(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Xo:case Hm:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Js(s,0):r,cc(o)?(n="",e!=null&&(n=e.replace(dc,"$&/")+"/"),ji(o,t,n,"",function(u){return u})):o!=null&&(Qa(o)&&(o=qm(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(dc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",cc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Js(i,l);s+=ji(i,t,n,a,o)}else if(a=Zm(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Js(i,l++),s+=ji(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ti(e,t,n){if(e==null)return e;var r=[],o=0;return ji(e,r,"","",function(i){return t.call(n,i,o++)}),r}function eg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},bi={transition:null},tg={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:bi,ReactCurrentOwner:Ka};function Nf(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:ti,forEach:function(e,t,n){ti(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ti(e,function(){t++}),t},toArray:function(e){return ti(e,function(t){return t})||[]},only:function(e){if(!Qa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Dr;q.Fragment=Vm;q.Profiler=Um;q.PureComponent=Ya;q.StrictMode=Bm;q.Suspense=Km;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tg;q.act=Nf;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gf({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Ka.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)vf.call(t,a)&&!wf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Xo,type:e.type,key:o,ref:i,props:r,_owner:s}};q.createContext=function(e){return e={$$typeof:Ym,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wm,_context:e},e.Consumer=e};q.createElement=Sf;q.createFactory=function(e){var t=Sf.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Xm,render:e}};q.isValidElement=Qa;q.lazy=function(e){return{$$typeof:Gm,_payload:{_status:-1,_result:e},_init:eg}};q.memo=function(e,t){return{$$typeof:Qm,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=bi.transition;bi.transition={};try{e()}finally{bi.transition=t}};q.unstable_act=Nf;q.useCallback=function(e,t){return He.current.useCallback(e,t)};q.useContext=function(e){return He.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return He.current.useDeferredValue(e)};q.useEffect=function(e,t){return He.current.useEffect(e,t)};q.useId=function(){return He.current.useId()};q.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return He.current.useMemo(e,t)};q.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};q.useRef=function(e){return He.current.useRef(e)};q.useState=function(e){return He.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return He.current.useTransition()};q.version="18.3.1";pf.exports=q;var j=pf.exports;const A=ff(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng=j,rg=Symbol.for("react.element"),og=Symbol.for("react.fragment"),ig=Object.prototype.hasOwnProperty,sg=ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lg={key:!0,ref:!0,__self:!0,__source:!0};function kf(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ig.call(t,r)&&!lg.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:rg,type:e,key:i,ref:s,props:o,_owner:sg.current}}Cs.Fragment=og;Cs.jsx=kf;Cs.jsxs=kf;hf.exports=Cs;var d=hf.exports,Ef={exports:{}},tt={},_f={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,k){var P=T.length;T.push(k);e:for(;0<P;){var R=P-1>>>1,O=T[R];if(0<o(O,k))T[R]=k,T[P]=O,P=R;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var k=T[0],P=T.pop();if(P!==k){T[0]=P;e:for(var R=0,O=T.length,U=O>>>1;R<U;){var B=2*(R+1)-1,Y=T[B],Q=B+1,G=T[Q];if(0>o(Y,P))Q<O&&0>o(G,Y)?(T[R]=G,T[Q]=P,R=Q):(T[R]=Y,T[B]=P,R=B);else if(Q<O&&0>o(G,P))T[R]=G,T[Q]=P,R=Q;else break e}}return k}function o(T,k){var P=T.sortIndex-k.sortIndex;return P!==0?P:T.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,h=3,g=!1,v=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=T)r(u),k.sortIndex=k.expirationTime,t(a,k);else break;k=n(u)}}function w(T){if(x=!1,y(T),!v)if(n(a)!==null)v=!0,M(E);else{var k=n(u);k!==null&&D(w,k.startTime-T)}}function E(T,k){v=!1,x&&(x=!1,p(_),_=-1),g=!0;var P=h;try{for(y(k),f=n(a);f!==null&&(!(f.expirationTime>k)||T&&!L());){var R=f.callback;if(typeof R=="function"){f.callback=null,h=f.priorityLevel;var O=R(f.expirationTime<=k);k=e.unstable_now(),typeof O=="function"?f.callback=O:f===n(a)&&r(a),y(k)}else r(a);f=n(a)}if(f!==null)var U=!0;else{var B=n(u);B!==null&&D(w,B.startTime-k),U=!1}return U}finally{f=null,h=P,g=!1}}var b=!1,z=null,_=-1,C=5,I=-1;function L(){return!(e.unstable_now()-I<C)}function V(){if(z!==null){var T=e.unstable_now();I=T;var k=!0;try{k=z(!0,T)}finally{k?H():(b=!1,z=null)}}else b=!1}var H;if(typeof m=="function")H=function(){m(V)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,$=S.port2;S.port1.onmessage=V,H=function(){$.postMessage(null)}}else H=function(){N(V,0)};function M(T){z=T,b||(b=!0,H())}function D(T,k){_=N(function(){T(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,M(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var P=h;h=k;try{return T()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,k){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var P=h;h=T;try{return k()}finally{h=P}},e.unstable_scheduleCallback=function(T,k,P){var R=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?R+P:R):P=R,T){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=P+O,T={id:c++,callback:k,priorityLevel:T,startTime:P,expirationTime:O,sortIndex:-1},P>R?(T.sortIndex=P,t(u,T),n(a)===null&&T===n(u)&&(x?(p(_),_=-1):x=!0,D(w,P-R))):(T.sortIndex=O,t(a,T),v||g||(v=!0,M(E))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var k=h;return function(){var P=h;h=k;try{return T.apply(this,arguments)}finally{h=P}}}})(Cf);_f.exports=Cf;var ag=_f.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug=j,Je=ag;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jf=new Set,So={};function Yn(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(So[e]=t,e=0;e<t.length;e++)jf.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rl=Object.prototype.hasOwnProperty,cg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fc={},hc={};function dg(e){return Rl.call(hc,e)?!0:Rl.call(fc,e)?!1:cg.test(e)?hc[e]=!0:(fc[e]=!0,!1)}function fg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hg(e,t,n,r){if(t===null||typeof t>"u"||fg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ga=/[\-:]([a-z])/g;function Za(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ga,Za);Me[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ga,Za);Me[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ga,Za);Me[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function qa(e,t,n,r){var o=Me.hasOwnProperty(t)?Me[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hg(t,n,o,r)&&(n=null),r||o===null?dg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ni=Symbol.for("react.element"),or=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),Ja=Symbol.for("react.strict_mode"),Ll=Symbol.for("react.profiler"),bf=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),eu=Symbol.for("react.forward_ref"),Dl=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Tf=Symbol.for("react.offscreen"),pc=Symbol.iterator;function Wr(e){return e===null||typeof e!="object"?null:(e=pc&&e[pc]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,el;function oo(e){if(el===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);el=t&&t[1]||""}return`
`+el+e}var tl=!1;function nl(e,t){if(!e||tl)return"";tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oo(e):""}function pg(e){switch(e.tag){case 5:return oo(e.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return e=nl(e.type,!1),e;case 11:return e=nl(e.type.render,!1),e;case 1:return e=nl(e.type,!0),e;default:return""}}function Fl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case or:return"Portal";case Ll:return"Profiler";case Ja:return"StrictMode";case Dl:return"Suspense";case Ol:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mf:return(e.displayName||"Context")+".Consumer";case bf:return(e._context.displayName||"Context")+".Provider";case eu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tu:return t=e.displayName||null,t!==null?t:Fl(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Fl(e(t))}catch{}}return null}function mg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fl(t);case 8:return t===Ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gg(e){var t=zf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ri(e){e._valueTracker||(e._valueTracker=gg(e))}function Pf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hl(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function If(e,t){t=t.checked,t!=null&&qa(e,"checked",t,!1)}function Vl(e,t){If(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bl(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bl(e,t,n){(t!=="number"||Ui(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var io=Array.isArray;function yr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(io(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function $f(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Af(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Af(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oi,Rf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function No(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yg=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(e){yg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fo[t]=fo[e]})});function Lf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fo.hasOwnProperty(e)&&fo[e]?(""+t).trim():t+"px"}function Df(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Lf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var xg=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(e,t){if(t){if(xg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Xl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=null;function nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ql=null,xr=null,vr=null;function vc(e){if(e=Go(e)){if(typeof Ql!="function")throw Error(F(280));var t=e.stateNode;t&&(t=zs(t),Ql(e.stateNode,e.type,t))}}function Of(e){xr?vr?vr.push(e):vr=[e]:xr=e}function Ff(){if(xr){var e=xr,t=vr;if(vr=xr=null,vc(e),t)for(e=0;e<t.length;e++)vc(t[e])}}function Hf(e,t){return e(t)}function Vf(){}var rl=!1;function Bf(e,t,n){if(rl)return e(t,n);rl=!0;try{return Hf(e,t,n)}finally{rl=!1,(xr!==null||vr!==null)&&(Vf(),Ff())}}function ko(e,t){var n=e.stateNode;if(n===null)return null;var r=zs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Gl=!1;if(Vt)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Gl=!1}function vg(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ho=!1,Wi=null,Yi=!1,Zl=null,wg={onError:function(e){ho=!0,Wi=e}};function Sg(e,t,n,r,o,i,s,l,a){ho=!1,Wi=null,vg.apply(wg,arguments)}function Ng(e,t,n,r,o,i,s,l,a){if(Sg.apply(this,arguments),ho){if(ho){var u=Wi;ho=!1,Wi=null}else throw Error(F(198));Yi||(Yi=!0,Zl=u)}}function Xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Uf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wc(e){if(Xn(e)!==e)throw Error(F(188))}function kg(e){var t=e.alternate;if(!t){if(t=Xn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return wc(o),e;if(i===r)return wc(o),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Wf(e){return e=kg(e),e!==null?Yf(e):null}function Yf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yf(e);if(t!==null)return t;e=e.sibling}return null}var Xf=Je.unstable_scheduleCallback,Sc=Je.unstable_cancelCallback,Eg=Je.unstable_shouldYield,_g=Je.unstable_requestPaint,ye=Je.unstable_now,Cg=Je.unstable_getCurrentPriorityLevel,ru=Je.unstable_ImmediatePriority,Kf=Je.unstable_UserBlockingPriority,Xi=Je.unstable_NormalPriority,jg=Je.unstable_LowPriority,Qf=Je.unstable_IdlePriority,js=null,jt=null;function bg(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(js,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:zg,Mg=Math.log,Tg=Math.LN2;function zg(e){return e>>>=0,e===0?32:31-(Mg(e)/Tg|0)|0}var ii=64,si=4194304;function so(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ki(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=so(l):(i&=s,i!==0&&(r=so(i)))}else s=n&~o,s!==0?r=so(s):i!==0&&(r=so(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vt(t),o=1<<n,r|=e[n],t&=~o;return r}function Pg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ig(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-vt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=Pg(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function ql(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gf(){var e=ii;return ii<<=1,!(ii&4194240)&&(ii=64),e}function ol(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ko(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function $g(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-vt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var re=0;function Zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qf,iu,Jf,eh,th,Jl=!1,li=[],ln=null,an=null,un=null,Eo=new Map,_o=new Map,tn=[],Ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nc(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(t.pointerId)}}function Xr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Go(t),t!==null&&iu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Rg(e,t,n,r,o){switch(t){case"focusin":return ln=Xr(ln,e,t,n,r,o),!0;case"dragenter":return an=Xr(an,e,t,n,r,o),!0;case"mouseover":return un=Xr(un,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Eo.set(i,Xr(Eo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,_o.set(i,Xr(_o.get(i)||null,e,t,n,r,o)),!0}return!1}function nh(e){var t=Tn(e.target);if(t!==null){var n=Xn(t);if(n!==null){if(t=n.tag,t===13){if(t=Uf(n),t!==null){e.blockedOn=t,th(e.priority,function(){Jf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ea(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kl=r,n.target.dispatchEvent(r),Kl=null}else return t=Go(n),t!==null&&iu(t),e.blockedOn=n,!1;t.shift()}return!0}function kc(e,t,n){Mi(e)&&n.delete(t)}function Lg(){Jl=!1,ln!==null&&Mi(ln)&&(ln=null),an!==null&&Mi(an)&&(an=null),un!==null&&Mi(un)&&(un=null),Eo.forEach(kc),_o.forEach(kc)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,Jl||(Jl=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,Lg)))}function Co(e){function t(o){return Kr(o,e)}if(0<li.length){Kr(li[0],e);for(var n=1;n<li.length;n++){var r=li[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&Kr(ln,e),an!==null&&Kr(an,e),un!==null&&Kr(un,e),Eo.forEach(t),_o.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)nh(n),n.blockedOn===null&&tn.shift()}var wr=Kt.ReactCurrentBatchConfig,Qi=!0;function Dg(e,t,n,r){var o=re,i=wr.transition;wr.transition=null;try{re=1,su(e,t,n,r)}finally{re=o,wr.transition=i}}function Og(e,t,n,r){var o=re,i=wr.transition;wr.transition=null;try{re=4,su(e,t,n,r)}finally{re=o,wr.transition=i}}function su(e,t,n,r){if(Qi){var o=ea(e,t,n,r);if(o===null)pl(e,t,r,Gi,n),Nc(e,r);else if(Rg(o,e,t,n,r))r.stopPropagation();else if(Nc(e,r),t&4&&-1<Ag.indexOf(e)){for(;o!==null;){var i=Go(o);if(i!==null&&qf(i),i=ea(e,t,n,r),i===null&&pl(e,t,r,Gi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else pl(e,t,r,null,n)}}var Gi=null;function ea(e,t,n,r){if(Gi=null,e=nu(r),e=Tn(e),e!==null)if(t=Xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Uf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gi=e,null}function rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cg()){case ru:return 1;case Kf:return 4;case Xi:case jg:return 16;case Qf:return 536870912;default:return 16}default:return 16}}var on=null,lu=null,Ti=null;function oh(){if(Ti)return Ti;var e,t=lu,n=t.length,r,o="value"in on?on.value:on.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Ti=o.slice(e,1<r?1-r:void 0)}function zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function Ec(){return!1}function nt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ai:Ec,this.isPropagationStopped=Ec,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=nt(Or),Qo=he({},Or,{view:0,detail:0}),Fg=nt(Qo),il,sl,Qr,bs=he({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(il=e.screenX-Qr.screenX,sl=e.screenY-Qr.screenY):sl=il=0,Qr=e),il)},movementY:function(e){return"movementY"in e?e.movementY:sl}}),_c=nt(bs),Hg=he({},bs,{dataTransfer:0}),Vg=nt(Hg),Bg=he({},Qo,{relatedTarget:0}),ll=nt(Bg),Ug=he({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),Wg=nt(Ug),Yg=he({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xg=nt(Yg),Kg=he({},Or,{data:0}),Cc=nt(Kg),Qg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zg[e])?!!t[e]:!1}function uu(){return qg}var Jg=he({},Qo,{key:function(e){if(e.key){var t=Qg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(e){return e.type==="keypress"?zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ey=nt(Jg),ty=he({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=nt(ty),ny=he({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),ry=nt(ny),oy=he({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),iy=nt(oy),sy=he({},bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ly=nt(sy),ay=[9,13,27,32],cu=Vt&&"CompositionEvent"in window,po=null;Vt&&"documentMode"in document&&(po=document.documentMode);var uy=Vt&&"TextEvent"in window&&!po,ih=Vt&&(!cu||po&&8<po&&11>=po),bc=" ",Mc=!1;function sh(e,t){switch(e){case"keyup":return ay.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function cy(e,t){switch(e){case"compositionend":return lh(t);case"keypress":return t.which!==32?null:(Mc=!0,bc);case"textInput":return e=t.data,e===bc&&Mc?null:e;default:return null}}function dy(e,t){if(sr)return e==="compositionend"||!cu&&sh(e,t)?(e=oh(),Ti=lu=on=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ih&&t.locale!=="ko"?null:t.data;default:return null}}var fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fy[e.type]:t==="textarea"}function ah(e,t,n,r){Of(r),t=Zi(t,"onChange"),0<t.length&&(n=new au("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mo=null,jo=null;function hy(e){vh(e,0)}function Ms(e){var t=ur(e);if(Pf(t))return e}function py(e,t){if(e==="change")return t}var uh=!1;if(Vt){var al;if(Vt){var ul="oninput"in document;if(!ul){var zc=document.createElement("div");zc.setAttribute("oninput","return;"),ul=typeof zc.oninput=="function"}al=ul}else al=!1;uh=al&&(!document.documentMode||9<document.documentMode)}function Pc(){mo&&(mo.detachEvent("onpropertychange",ch),jo=mo=null)}function ch(e){if(e.propertyName==="value"&&Ms(jo)){var t=[];ah(t,jo,e,nu(e)),Bf(hy,t)}}function my(e,t,n){e==="focusin"?(Pc(),mo=t,jo=n,mo.attachEvent("onpropertychange",ch)):e==="focusout"&&Pc()}function gy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(jo)}function yy(e,t){if(e==="click")return Ms(t)}function xy(e,t){if(e==="input"||e==="change")return Ms(t)}function vy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:vy;function bo(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Rl.call(t,o)||!St(e[o],t[o]))return!1}return!0}function Ic(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $c(e,t){var n=Ic(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ic(n)}}function dh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fh(){for(var e=window,t=Ui();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ui(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wy(e){var t=fh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dh(n.ownerDocument.documentElement,n)){if(r!==null&&du(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=$c(n,i);var s=$c(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sy=Vt&&"documentMode"in document&&11>=document.documentMode,lr=null,ta=null,go=null,na=!1;function Ac(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;na||lr==null||lr!==Ui(r)||(r=lr,"selectionStart"in r&&du(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),go&&bo(go,r)||(go=r,r=Zi(ta,"onSelect"),0<r.length&&(t=new au("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function ui(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionend:ui("Transition","TransitionEnd")},cl={},hh={};Vt&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Ts(e){if(cl[e])return cl[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hh)return cl[e]=t[n];return e}var ph=Ts("animationend"),mh=Ts("animationiteration"),gh=Ts("animationstart"),yh=Ts("transitionend"),xh=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){xh.set(e,t),Yn(t,[e])}for(var dl=0;dl<Rc.length;dl++){var fl=Rc[dl],Ny=fl.toLowerCase(),ky=fl[0].toUpperCase()+fl.slice(1);xn(Ny,"on"+ky)}xn(ph,"onAnimationEnd");xn(mh,"onAnimationIteration");xn(gh,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(yh,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ey=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function Lc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ng(r,t,void 0,e),e.currentTarget=null}function vh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Lc(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Lc(o,l,u),i=a}}}if(Yi)throw e=Zl,Yi=!1,Zl=null,e}function ae(e,t){var n=t[la];n===void 0&&(n=t[la]=new Set);var r=e+"__bubble";n.has(r)||(wh(t,e,2,!1),n.add(r))}function hl(e,t,n){var r=0;t&&(r|=4),wh(n,e,r,t)}var ci="_reactListening"+Math.random().toString(36).slice(2);function Mo(e){if(!e[ci]){e[ci]=!0,jf.forEach(function(n){n!=="selectionchange"&&(Ey.has(n)||hl(n,!1,e),hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ci]||(t[ci]=!0,hl("selectionchange",!1,t))}}function wh(e,t,n,r){switch(rh(t)){case 1:var o=Dg;break;case 4:o=Og;break;default:o=su}n=o.bind(null,t,n,e),o=void 0,!Gl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function pl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Tn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}Bf(function(){var u=i,c=nu(n),f=[];e:{var h=xh.get(e);if(h!==void 0){var g=au,v=e;switch(e){case"keypress":if(zi(n)===0)break e;case"keydown":case"keyup":g=ey;break;case"focusin":v="focus",g=ll;break;case"focusout":v="blur",g=ll;break;case"beforeblur":case"afterblur":g=ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ry;break;case ph:case mh:case gh:g=Wg;break;case yh:g=iy;break;case"scroll":g=Fg;break;case"wheel":g=ly;break;case"copy":case"cut":case"paste":g=Xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=jc}var x=(t&4)!==0,N=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var m=u,y;m!==null;){y=m;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=ko(m,p),w!=null&&x.push(To(m,w,y)))),N)break;m=m.return}0<x.length&&(h=new g(h,v,null,n,c),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Kl&&(v=n.relatedTarget||n.fromElement)&&(Tn(v)||v[Bt]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Tn(v):null,v!==null&&(N=Xn(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=_c,w="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=jc,w="onPointerLeave",p="onPointerEnter",m="pointer"),N=g==null?h:ur(g),y=v==null?h:ur(v),h=new x(w,m+"leave",g,n,c),h.target=N,h.relatedTarget=y,w=null,Tn(c)===u&&(x=new x(p,m+"enter",v,n,c),x.target=y,x.relatedTarget=N,w=x),N=w,g&&v)t:{for(x=g,p=v,m=0,y=x;y;y=Jn(y))m++;for(y=0,w=p;w;w=Jn(w))y++;for(;0<m-y;)x=Jn(x),m--;for(;0<y-m;)p=Jn(p),y--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=Jn(x),p=Jn(p)}x=null}else x=null;g!==null&&Dc(f,h,g,x,!1),v!==null&&N!==null&&Dc(f,N,v,x,!0)}}e:{if(h=u?ur(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var E=py;else if(Tc(h))if(uh)E=xy;else{E=gy;var b=my}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=yy);if(E&&(E=E(e,u))){ah(f,E,n,c);break e}b&&b(e,h,u),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Bl(h,"number",h.value)}switch(b=u?ur(u):window,e){case"focusin":(Tc(b)||b.contentEditable==="true")&&(lr=b,ta=u,go=null);break;case"focusout":go=ta=lr=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,Ac(f,n,c);break;case"selectionchange":if(Sy)break;case"keydown":case"keyup":Ac(f,n,c)}var z;if(cu)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else sr?sh(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ih&&n.locale!=="ko"&&(sr||_!=="onCompositionStart"?_==="onCompositionEnd"&&sr&&(z=oh()):(on=c,lu="value"in on?on.value:on.textContent,sr=!0)),b=Zi(u,_),0<b.length&&(_=new Cc(_,e,null,n,c),f.push({event:_,listeners:b}),z?_.data=z:(z=lh(n),z!==null&&(_.data=z)))),(z=uy?cy(e,n):dy(e,n))&&(u=Zi(u,"onBeforeInput"),0<u.length&&(c=new Cc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=z))}vh(f,t)})}function To(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=ko(e,n),i!=null&&r.unshift(To(e,i,o)),i=ko(e,t),i!=null&&r.push(To(e,i,o))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dc(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=ko(n,i),a!=null&&s.unshift(To(n,a,l))):o||(a=ko(n,i),a!=null&&s.push(To(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var _y=/\r\n?/g,Cy=/\u0000|\uFFFD/g;function Oc(e){return(typeof e=="string"?e:""+e).replace(_y,`
`).replace(Cy,"")}function di(e,t,n){if(t=Oc(t),Oc(e)!==t&&n)throw Error(F(425))}function qi(){}var ra=null,oa=null;function ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sa=typeof setTimeout=="function"?setTimeout:void 0,jy=typeof clearTimeout=="function"?clearTimeout:void 0,Fc=typeof Promise=="function"?Promise:void 0,by=typeof queueMicrotask=="function"?queueMicrotask:typeof Fc<"u"?function(e){return Fc.resolve(null).then(e).catch(My)}:sa;function My(e){setTimeout(function(){throw e})}function ml(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Co(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Co(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Fr,zo="__reactProps$"+Fr,Bt="__reactContainer$"+Fr,la="__reactEvents$"+Fr,Ty="__reactListeners$"+Fr,zy="__reactHandles$"+Fr;function Tn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bt]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hc(e);e!==null;){if(n=e[Ct])return n;e=Hc(e)}return t}e=n,n=e.parentNode}return null}function Go(e){return e=e[Ct]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function zs(e){return e[zo]||null}var aa=[],cr=-1;function vn(e){return{current:e}}function ue(e){0>cr||(e.current=aa[cr],aa[cr]=null,cr--)}function se(e,t){cr++,aa[cr]=e.current,e.current=t}var yn={},Re=vn(yn),Ye=vn(!1),On=yn;function jr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Xe(e){return e=e.childContextTypes,e!=null}function Ji(){ue(Ye),ue(Re)}function Vc(e,t,n){if(Re.current!==yn)throw Error(F(168));se(Re,t),se(Ye,n)}function Sh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(F(108,mg(e)||"Unknown",o));return he({},n,r)}function es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,On=Re.current,se(Re,e),se(Ye,Ye.current),!0}function Bc(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Sh(e,t,On),r.__reactInternalMemoizedMergedChildContext=e,ue(Ye),ue(Re),se(Re,e)):ue(Ye),se(Ye,n)}var Rt=null,Ps=!1,gl=!1;function Nh(e){Rt===null?Rt=[e]:Rt.push(e)}function Py(e){Ps=!0,Nh(e)}function wn(){if(!gl&&Rt!==null){gl=!0;var e=0,t=re;try{var n=Rt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,Ps=!1}catch(o){throw Rt!==null&&(Rt=Rt.slice(e+1)),Xf(ru,wn),o}finally{re=t,gl=!1}}return null}var dr=[],fr=0,ts=null,ns=0,rt=[],ot=0,Fn=null,Lt=1,Dt="";function jn(e,t){dr[fr++]=ns,dr[fr++]=ts,ts=e,ns=t}function kh(e,t,n){rt[ot++]=Lt,rt[ot++]=Dt,rt[ot++]=Fn,Fn=e;var r=Lt;e=Dt;var o=32-vt(r)-1;r&=~(1<<o),n+=1;var i=32-vt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Lt=1<<32-vt(t)+o|n<<o|r,Dt=i+e}else Lt=1<<i|n<<o|r,Dt=e}function fu(e){e.return!==null&&(jn(e,1),kh(e,1,0))}function hu(e){for(;e===ts;)ts=dr[--fr],dr[fr]=null,ns=dr[--fr],dr[fr]=null;for(;e===Fn;)Fn=rt[--ot],rt[ot]=null,Dt=rt[--ot],rt[ot]=null,Lt=rt[--ot],rt[ot]=null}var qe=null,Ze=null,ce=!1,yt=null;function Eh(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Uc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Ze=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fn!==null?{id:Lt,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,Ze=null,!0):!1;default:return!1}}function ua(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ca(e){if(ce){var t=Ze;if(t){var n=t;if(!Uc(e,t)){if(ua(e))throw Error(F(418));t=cn(n.nextSibling);var r=qe;t&&Uc(e,t)?Eh(r,n):(e.flags=e.flags&-4097|2,ce=!1,qe=e)}}else{if(ua(e))throw Error(F(418));e.flags=e.flags&-4097|2,ce=!1,qe=e}}}function Wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function fi(e){if(e!==qe)return!1;if(!ce)return Wc(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ia(e.type,e.memoizedProps)),t&&(t=Ze)){if(ua(e))throw _h(),Error(F(418));for(;t;)Eh(e,t),t=cn(t.nextSibling)}if(Wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=qe?cn(e.stateNode.nextSibling):null;return!0}function _h(){for(var e=Ze;e;)e=cn(e.nextSibling)}function br(){Ze=qe=null,ce=!1}function pu(e){yt===null?yt=[e]:yt.push(e)}var Iy=Kt.ReactCurrentBatchConfig;function Gr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yc(e){var t=e._init;return t(e._payload)}function Ch(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function o(p,m){return p=pn(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,y,w){return m===null||m.tag!==6?(m=kl(y,p.mode,w),m.return=p,m):(m=o(m,y),m.return=p,m)}function a(p,m,y,w){var E=y.type;return E===ir?c(p,m,y.props.children,w,y.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&Yc(E)===m.type)?(w=o(m,y.props),w.ref=Gr(p,m,y),w.return=p,w):(w=Di(y.type,y.key,y.props,null,p.mode,w),w.ref=Gr(p,m,y),w.return=p,w)}function u(p,m,y,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=El(y,p.mode,w),m.return=p,m):(m=o(m,y.children||[]),m.return=p,m)}function c(p,m,y,w,E){return m===null||m.tag!==7?(m=Rn(y,p.mode,w,E),m.return=p,m):(m=o(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=kl(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ni:return y=Di(m.type,m.key,m.props,null,p.mode,y),y.ref=Gr(p,null,m),y.return=p,y;case or:return m=El(m,p.mode,y),m.return=p,m;case Zt:var w=m._init;return f(p,w(m._payload),y)}if(io(m)||Wr(m))return m=Rn(m,p.mode,y,null),m.return=p,m;hi(p,m)}return null}function h(p,m,y,w){var E=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(p,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ni:return y.key===E?a(p,m,y,w):null;case or:return y.key===E?u(p,m,y,w):null;case Zt:return E=y._init,h(p,m,E(y._payload),w)}if(io(y)||Wr(y))return E!==null?null:c(p,m,y,w,null);hi(p,y)}return null}function g(p,m,y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,l(m,p,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ni:return p=p.get(w.key===null?y:w.key)||null,a(m,p,w,E);case or:return p=p.get(w.key===null?y:w.key)||null,u(m,p,w,E);case Zt:var b=w._init;return g(p,m,y,b(w._payload),E)}if(io(w)||Wr(w))return p=p.get(y)||null,c(m,p,w,E,null);hi(m,w)}return null}function v(p,m,y,w){for(var E=null,b=null,z=m,_=m=0,C=null;z!==null&&_<y.length;_++){z.index>_?(C=z,z=null):C=z.sibling;var I=h(p,z,y[_],w);if(I===null){z===null&&(z=C);break}e&&z&&I.alternate===null&&t(p,z),m=i(I,m,_),b===null?E=I:b.sibling=I,b=I,z=C}if(_===y.length)return n(p,z),ce&&jn(p,_),E;if(z===null){for(;_<y.length;_++)z=f(p,y[_],w),z!==null&&(m=i(z,m,_),b===null?E=z:b.sibling=z,b=z);return ce&&jn(p,_),E}for(z=r(p,z);_<y.length;_++)C=g(z,p,_,y[_],w),C!==null&&(e&&C.alternate!==null&&z.delete(C.key===null?_:C.key),m=i(C,m,_),b===null?E=C:b.sibling=C,b=C);return e&&z.forEach(function(L){return t(p,L)}),ce&&jn(p,_),E}function x(p,m,y,w){var E=Wr(y);if(typeof E!="function")throw Error(F(150));if(y=E.call(y),y==null)throw Error(F(151));for(var b=E=null,z=m,_=m=0,C=null,I=y.next();z!==null&&!I.done;_++,I=y.next()){z.index>_?(C=z,z=null):C=z.sibling;var L=h(p,z,I.value,w);if(L===null){z===null&&(z=C);break}e&&z&&L.alternate===null&&t(p,z),m=i(L,m,_),b===null?E=L:b.sibling=L,b=L,z=C}if(I.done)return n(p,z),ce&&jn(p,_),E;if(z===null){for(;!I.done;_++,I=y.next())I=f(p,I.value,w),I!==null&&(m=i(I,m,_),b===null?E=I:b.sibling=I,b=I);return ce&&jn(p,_),E}for(z=r(p,z);!I.done;_++,I=y.next())I=g(z,p,_,I.value,w),I!==null&&(e&&I.alternate!==null&&z.delete(I.key===null?_:I.key),m=i(I,m,_),b===null?E=I:b.sibling=I,b=I);return e&&z.forEach(function(V){return t(p,V)}),ce&&jn(p,_),E}function N(p,m,y,w){if(typeof y=="object"&&y!==null&&y.type===ir&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ni:e:{for(var E=y.key,b=m;b!==null;){if(b.key===E){if(E=y.type,E===ir){if(b.tag===7){n(p,b.sibling),m=o(b,y.props.children),m.return=p,p=m;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&Yc(E)===b.type){n(p,b.sibling),m=o(b,y.props),m.ref=Gr(p,b,y),m.return=p,p=m;break e}n(p,b);break}else t(p,b);b=b.sibling}y.type===ir?(m=Rn(y.props.children,p.mode,w,y.key),m.return=p,p=m):(w=Di(y.type,y.key,y.props,null,p.mode,w),w.ref=Gr(p,m,y),w.return=p,p=w)}return s(p);case or:e:{for(b=y.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=o(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=El(y,p.mode,w),m.return=p,p=m}return s(p);case Zt:return b=y._init,N(p,m,b(y._payload),w)}if(io(y))return v(p,m,y,w);if(Wr(y))return x(p,m,y,w);hi(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=o(m,y),m.return=p,p=m):(n(p,m),m=kl(y,p.mode,w),m.return=p,p=m),s(p)):n(p,m)}return N}var Mr=Ch(!0),jh=Ch(!1),rs=vn(null),os=null,hr=null,mu=null;function gu(){mu=hr=os=null}function yu(e){var t=rs.current;ue(rs),e._currentValue=t}function da(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t){os=e,mu=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(mu!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(os===null)throw Error(F(308));hr=e,os.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var zn=null;function xu(e){zn===null?zn=[e]:zn.push(e)}function bh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,xu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ut(e,r)}function Ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qt=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ut(e,n)}return o=r.interleaved,o===null?(t.next=t,xu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ut(e,n)}function Pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}function Xc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function is(e,t,n,r){var o=e.updateQueue;qt=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var f=o.baseState;s=0,c=u=a=null,l=i;do{var h=l.lane,g=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(h=t,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=he({},f,h);break e;case 2:qt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=f):c=c.next=g,s|=h;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;h=l,l=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(c===null&&(a=f),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Vn|=s,e.lanes=s,e.memoizedState=f}}function Kc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(F(191,o));o.call(r)}}}var Zo={},bt=vn(Zo),Po=vn(Zo),Io=vn(Zo);function Pn(e){if(e===Zo)throw Error(F(174));return e}function wu(e,t){switch(se(Io,t),se(Po,e),se(bt,Zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wl(t,e)}ue(bt),se(bt,t)}function Tr(){ue(bt),ue(Po),ue(Io)}function Th(e){Pn(Io.current);var t=Pn(bt.current),n=Wl(t,e.type);t!==n&&(se(Po,e),se(bt,n))}function Su(e){Po.current===e&&(ue(bt),ue(Po))}var de=vn(0);function ss(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yl=[];function Nu(){for(var e=0;e<yl.length;e++)yl[e]._workInProgressVersionPrimary=null;yl.length=0}var Ii=Kt.ReactCurrentDispatcher,xl=Kt.ReactCurrentBatchConfig,Hn=0,fe=null,we=null,ke=null,ls=!1,yo=!1,$o=0,$y=0;function Ie(){throw Error(F(321))}function ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function Eu(e,t,n,r,o,i){if(Hn=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ii.current=e===null||e.memoizedState===null?Dy:Oy,e=n(r,o),yo){i=0;do{if(yo=!1,$o=0,25<=i)throw Error(F(301));i+=1,ke=we=null,t.updateQueue=null,Ii.current=Fy,e=n(r,o)}while(yo)}if(Ii.current=as,t=we!==null&&we.next!==null,Hn=0,ke=we=fe=null,ls=!1,t)throw Error(F(300));return e}function _u(){var e=$o!==0;return $o=0,e}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?fe.memoizedState=ke=e:ke=ke.next=e,ke}function dt(){if(we===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=ke===null?fe.memoizedState:ke.next;if(t!==null)ke=t,we=e;else{if(e===null)throw Error(F(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},ke===null?fe.memoizedState=ke=e:ke=ke.next=e}return ke}function Ao(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=dt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=we,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((Hn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,fe.lanes|=c,Vn|=c}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,St(r,t.memoizedState)||(Ue=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,fe.lanes|=i,Vn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wl(e){var t=dt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);St(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function zh(){}function Ph(e,t){var n=fe,r=dt(),o=t(),i=!St(r.memoizedState,o);if(i&&(r.memoizedState=o,Ue=!0),r=r.queue,Cu(Ah.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,Ro(9,$h.bind(null,n,r,o,t),void 0,null),Ee===null)throw Error(F(349));Hn&30||Ih(n,t,o)}return o}function Ih(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $h(e,t,n,r){t.value=n,t.getSnapshot=r,Rh(t)&&Lh(e)}function Ah(e,t,n){return n(function(){Rh(t)&&Lh(e)})}function Rh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function Lh(e){var t=Ut(e,1);t!==null&&wt(t,e,1,-1)}function Qc(e){var t=_t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=Ly.bind(null,fe,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Dh(){return dt().memoizedState}function $i(e,t,n,r){var o=_t();fe.flags|=e,o.memoizedState=Ro(1|t,n,void 0,r===void 0?null:r)}function Is(e,t,n,r){var o=dt();r=r===void 0?null:r;var i=void 0;if(we!==null){var s=we.memoizedState;if(i=s.destroy,r!==null&&ku(r,s.deps)){o.memoizedState=Ro(t,n,i,r);return}}fe.flags|=e,o.memoizedState=Ro(1|t,n,i,r)}function Gc(e,t){return $i(8390656,8,e,t)}function Cu(e,t){return Is(2048,8,e,t)}function Oh(e,t){return Is(4,2,e,t)}function Fh(e,t){return Is(4,4,e,t)}function Hh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vh(e,t,n){return n=n!=null?n.concat([e]):null,Is(4,4,Hh.bind(null,t,e),n)}function ju(){}function Bh(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ku(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uh(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ku(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wh(e,t,n){return Hn&21?(St(n,t)||(n=Gf(),fe.lanes|=n,Vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=n)}function Ay(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=xl.transition;xl.transition={};try{e(!1),t()}finally{re=n,xl.transition=r}}function Yh(){return dt().memoizedState}function Ry(e,t,n){var r=hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xh(e))Kh(t,n);else if(n=bh(e,t,n,r),n!==null){var o=Fe();wt(n,e,r,o),Qh(n,t,r)}}function Ly(e,t,n){var r=hn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xh(e))Kh(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,St(l,s)){var a=t.interleaved;a===null?(o.next=o,xu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=bh(e,t,o,r),n!==null&&(o=Fe(),wt(n,e,r,o),Qh(n,t,r))}}function Xh(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Kh(e,t){yo=ls=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}var as={readContext:ct,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Dy={readContext:ct,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Gc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$i(4194308,4,Hh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $i(4194308,4,e,t)},useInsertionEffect:function(e,t){return $i(4,2,e,t)},useMemo:function(e,t){var n=_t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ry.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:Qc,useDebugValue:ju,useDeferredValue:function(e){return _t().memoizedState=e},useTransition:function(){var e=Qc(!1),t=e[0];return e=Ay.bind(null,e[1]),_t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,o=_t();if(ce){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Ee===null)throw Error(F(349));Hn&30||Ih(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Gc(Ah.bind(null,r,i,e),[e]),r.flags|=2048,Ro(9,$h.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=_t(),t=Ee.identifierPrefix;if(ce){var n=Dt,r=Lt;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$o++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$y++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Oy={readContext:ct,useCallback:Bh,useContext:ct,useEffect:Cu,useImperativeHandle:Vh,useInsertionEffect:Oh,useLayoutEffect:Fh,useMemo:Uh,useReducer:vl,useRef:Dh,useState:function(){return vl(Ao)},useDebugValue:ju,useDeferredValue:function(e){var t=dt();return Wh(t,we.memoizedState,e)},useTransition:function(){var e=vl(Ao)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Ph,useId:Yh,unstable_isNewReconciler:!1},Fy={readContext:ct,useCallback:Bh,useContext:ct,useEffect:Cu,useImperativeHandle:Vh,useInsertionEffect:Oh,useLayoutEffect:Fh,useMemo:Uh,useReducer:wl,useRef:Dh,useState:function(){return wl(Ao)},useDebugValue:ju,useDeferredValue:function(e){var t=dt();return we===null?t.memoizedState=e:Wh(t,we.memoizedState,e)},useTransition:function(){var e=wl(Ao)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Ph,useId:Yh,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $s={isMounted:function(e){return(e=e._reactInternals)?Xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),o=hn(e),i=Ft(r,o);i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,o),t!==null&&(wt(t,e,o,r),Pi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),o=hn(e),i=Ft(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,o),t!==null&&(wt(t,e,o,r),Pi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=hn(e),o=Ft(n,r);o.tag=2,t!=null&&(o.callback=t),t=dn(e,o,r),t!==null&&(wt(t,e,r,n),Pi(t,e,r))}};function Zc(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!bo(n,r)||!bo(o,i):!0}function Gh(e,t,n){var r=!1,o=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(o=Xe(t)?On:Re.current,r=t.contextTypes,i=(r=r!=null)?jr(e,o):yn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$s,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function qc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$s.enqueueReplaceState(t,t.state,null)}function ha(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},vu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=ct(i):(i=Xe(t)?On:Re.current,o.context=jr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fa(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&$s.enqueueReplaceState(o,o.state,null),is(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function zr(e,t){try{var n="",r=t;do n+=pg(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Sl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hy=typeof WeakMap=="function"?WeakMap:Map;function Zh(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cs||(cs=!0,Ea=r),pa(e,t)},n}function qh(e,t,n){n=Ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){pa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pa(e,t),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Jc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=tx.bind(null,e,t,n),t.then(e,e))}function ed(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function td(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var Vy=Kt.ReactCurrentOwner,Ue=!1;function Oe(e,t,n,r){t.child=e===null?jh(t,null,n,r):Mr(t,e.child,n,r)}function nd(e,t,n,r,o){n=n.render;var i=t.ref;return Sr(t,o),r=Eu(e,t,n,r,i,o),n=_u(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wt(e,t,o)):(ce&&n&&fu(t),t.flags|=1,Oe(e,t,r,o),t.child)}function rd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Au(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Jh(e,t,i,r,o)):(e=Di(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:bo,n(s,r)&&e.ref===t.ref)return Wt(e,t,o)}return t.flags|=1,e=pn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Jh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(bo(i,r)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,Wt(e,t,o)}return ma(e,t,n,r,o)}function ep(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(mr,Ge),Ge|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(mr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(mr,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,se(mr,Ge),Ge|=r;return Oe(e,t,o,n),t.child}function tp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ma(e,t,n,r,o){var i=Xe(n)?On:Re.current;return i=jr(t,i),Sr(t,o),n=Eu(e,t,n,r,i,o),r=_u(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wt(e,t,o)):(ce&&r&&fu(t),t.flags|=1,Oe(e,t,n,o),t.child)}function od(e,t,n,r,o){if(Xe(n)){var i=!0;es(t)}else i=!1;if(Sr(t,o),t.stateNode===null)Ai(e,t),Gh(t,n,r),ha(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Xe(n)?On:Re.current,u=jr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&qc(t,s,r,u),qt=!1;var h=t.memoizedState;s.state=h,is(t,r,s,o),a=t.memoizedState,l!==r||h!==a||Ye.current||qt?(typeof c=="function"&&(fa(t,n,c,r),a=t.memoizedState),(l=qt||Zc(t,n,l,r,h,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Mh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:pt(t.type,l),s.props=u,f=t.pendingProps,h=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ct(a):(a=Xe(n)?On:Re.current,a=jr(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==a)&&qc(t,s,r,a),qt=!1,h=t.memoizedState,s.state=h,is(t,r,s,o);var v=t.memoizedState;l!==f||h!==v||Ye.current||qt?(typeof g=="function"&&(fa(t,n,g,r),v=t.memoizedState),(u=qt||Zc(t,n,u,r,h,v,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ga(e,t,n,r,i,o)}function ga(e,t,n,r,o,i){tp(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Bc(t,n,!1),Wt(e,t,i);r=t.stateNode,Vy.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Mr(t,e.child,null,i),t.child=Mr(t,null,l,i)):Oe(e,t,l,i),t.memoizedState=r.state,o&&Bc(t,n,!0),t.child}function np(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),wu(e,t.containerInfo)}function id(e,t,n,r,o){return br(),pu(o),t.flags|=256,Oe(e,t,n,r),t.child}var ya={dehydrated:null,treeContext:null,retryLane:0};function xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function rp(e,t,n){var r=t.pendingProps,o=de.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),se(de,o&1),e===null)return ca(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ls(s,r,0,null),e=Rn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xa(n),t.memoizedState=ya,e):bu(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return By(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=pn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=pn(l,i):(i=Rn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?xa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=ya,r}return i=e.child,e=i.sibling,r=pn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bu(e,t){return t=Ls({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pi(e,t,n,r){return r!==null&&pu(r),Mr(t,e.child,null,n),e=bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function By(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Sl(Error(F(422))),pi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ls({mode:"visible",children:r.children},o,0,null),i=Rn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Mr(t,e.child,null,s),t.child.memoizedState=xa(s),t.memoizedState=ya,i);if(!(t.mode&1))return pi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(F(419)),r=Sl(i,r,void 0),pi(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ue||l){if(r=Ee,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ut(e,o),wt(r,e,o,-1))}return $u(),r=Sl(Error(F(421))),pi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=nx.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ze=cn(o.nextSibling),qe=t,ce=!0,yt=null,e!==null&&(rt[ot++]=Lt,rt[ot++]=Dt,rt[ot++]=Fn,Lt=e.id,Dt=e.overflow,Fn=t),t=bu(t,r.children),t.flags|=4096,t)}function sd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),da(e.return,t,n)}function Nl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function op(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Oe(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sd(e,n,t);else if(e.tag===19)sd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(de,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ss(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Nl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ss(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Nl(t,!0,n,null,i);break;case"together":Nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uy(e,t,n){switch(t.tag){case 3:np(t),br();break;case 5:Th(t);break;case 1:Xe(t.type)&&es(t);break;case 4:wu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;se(rs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?rp(e,t,n):(se(de,de.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);se(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return op(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),se(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,ep(e,t,n)}return Wt(e,t,n)}var ip,va,sp,lp;ip=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};va=function(){};sp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Pn(bt.current);var i=null;switch(n){case"input":o=Hl(e,o),r=Hl(e,r),i=[];break;case"select":o=he({},o,{value:void 0}),r=he({},r,{value:void 0}),i=[];break;case"textarea":o=Ul(e,o),r=Ul(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qi)}Yl(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(So.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(So.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ae("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};lp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zr(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wy(e,t,n){var r=t.pendingProps;switch(hu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Xe(t.type)&&Ji(),$e(t),null;case 3:return r=t.stateNode,Tr(),ue(Ye),ue(Re),Nu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(ja(yt),yt=null))),va(e,t),$e(t),null;case 5:Su(t);var o=Pn(Io.current);if(n=t.type,e!==null&&t.stateNode!=null)sp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return $e(t),null}if(e=Pn(bt.current),fi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ct]=t,r[zo]=i,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(o=0;o<lo.length;o++)ae(lo[o],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":mc(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":yc(r,i),ae("invalid",r)}Yl(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&di(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&di(r.textContent,l,e),o=["children",""+l]):So.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ae("scroll",r)}switch(n){case"input":ri(r),gc(r,i,!0);break;case"textarea":ri(r),xc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Af(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ct]=t,e[zo]=r,ip(e,t,!1,!1),t.stateNode=e;e:{switch(s=Xl(n,r),n){case"dialog":ae("cancel",e),ae("close",e),o=r;break;case"iframe":case"object":case"embed":ae("load",e),o=r;break;case"video":case"audio":for(o=0;o<lo.length;o++)ae(lo[o],e);o=r;break;case"source":ae("error",e),o=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),o=r;break;case"details":ae("toggle",e),o=r;break;case"input":mc(e,r),o=Hl(e,r),ae("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=he({},r,{value:void 0}),ae("invalid",e);break;case"textarea":yc(e,r),o=Ul(e,r),ae("invalid",e);break;default:o=r}Yl(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Df(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Rf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&No(e,a):typeof a=="number"&&No(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(So.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ae("scroll",e):a!=null&&qa(e,i,a,s))}switch(n){case"input":ri(e),gc(e,r,!1);break;case"textarea":ri(e),xc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?yr(e,!!r.multiple,i,!1):r.defaultValue!=null&&yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=qi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)lp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=Pn(Io.current),Pn(bt.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(i=r.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:di(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return $e(t),null;case 13:if(ue(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ze!==null&&t.mode&1&&!(t.flags&128))_h(),br(),t.flags|=98560,i=!1;else if(i=fi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Ct]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else yt!==null&&(ja(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?Se===0&&(Se=3):$u())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return Tr(),va(e,t),e===null&&Mo(t.stateNode.containerInfo),$e(t),null;case 10:return yu(t.type._context),$e(t),null;case 17:return Xe(t.type)&&Ji(),$e(t),null;case 19:if(ue(de),i=t.memoizedState,i===null)return $e(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Zr(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ss(e),s!==null){for(t.flags|=128,Zr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(de,de.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>Pr&&(t.flags|=128,r=!0,Zr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ss(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ce)return $e(t),null}else 2*ye()-i.renderingStartTime>Pr&&n!==1073741824&&(t.flags|=128,r=!0,Zr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=de.current,se(de,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return Iu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Yy(e,t){switch(hu(t),t.tag){case 1:return Xe(t.type)&&Ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tr(),ue(Ye),ue(Re),Nu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Su(t),null;case 13:if(ue(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(de),null;case 4:return Tr(),null;case 10:return yu(t.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var mi=!1,Ae=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,W=null;function pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function wa(e,t,n){try{n()}catch(r){pe(e,t,r)}}var ld=!1;function Ky(e,t){if(ra=Qi,e=fh(),du(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var g;f!==n||o!==0&&f.nodeType!==3||(l=s+o),f!==i||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++u===o&&(l=s),h===i&&++c===r&&(a=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(oa={focusedElem:e,selectionRange:n},Qi=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,N=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:pt(t.type,x),N);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){pe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=ld,ld=!1,v}function xo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&wa(t,n,i)}o=o.next}while(o!==r)}}function As(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ap(e){var t=e.alternate;t!==null&&(e.alternate=null,ap(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[zo],delete t[la],delete t[Ty],delete t[zy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function up(e){return e.tag===5||e.tag===3||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qi));else if(r!==4&&(e=e.child,e!==null))for(Na(e,t,n),e=e.sibling;e!==null;)Na(e,t,n),e=e.sibling}function ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ka(e,t,n),e=e.sibling;e!==null;)ka(e,t,n),e=e.sibling}var je=null,mt=!1;function Qt(e,t,n){for(n=n.child;n!==null;)cp(e,t,n),n=n.sibling}function cp(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(js,n)}catch{}switch(n.tag){case 5:Ae||pr(n,t);case 6:var r=je,o=mt;je=null,Qt(e,t,n),je=r,mt=o,je!==null&&(mt?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(mt?(e=je,n=n.stateNode,e.nodeType===8?ml(e.parentNode,n):e.nodeType===1&&ml(e,n),Co(e)):ml(je,n.stateNode));break;case 4:r=je,o=mt,je=n.stateNode.containerInfo,mt=!0,Qt(e,t,n),je=r,mt=o;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&wa(n,t,s),o=o.next}while(o!==r)}Qt(e,t,n);break;case 1:if(!Ae&&(pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,t,l)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,Qt(e,t,n),Ae=r):Qt(e,t,n);break;default:Qt(e,t,n)}}function ud(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xy),t.forEach(function(r){var o=rx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:je=l.stateNode,mt=!1;break e;case 3:je=l.stateNode.containerInfo,mt=!0;break e;case 4:je=l.stateNode.containerInfo,mt=!0;break e}l=l.return}if(je===null)throw Error(F(160));cp(i,s,o),je=null,mt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){pe(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dp(t,e),t=t.sibling}function dp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),Et(e),r&4){try{xo(3,e,e.return),As(3,e)}catch(x){pe(e,e.return,x)}try{xo(5,e,e.return)}catch(x){pe(e,e.return,x)}}break;case 1:ht(t,e),Et(e),r&512&&n!==null&&pr(n,n.return);break;case 5:if(ht(t,e),Et(e),r&512&&n!==null&&pr(n,n.return),e.flags&32){var o=e.stateNode;try{No(o,"")}catch(x){pe(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&If(o,i),Xl(l,s);var u=Xl(l,i);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?Df(o,f):c==="dangerouslySetInnerHTML"?Rf(o,f):c==="children"?No(o,f):qa(o,c,f,u)}switch(l){case"input":Vl(o,i);break;case"textarea":$f(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?yr(o,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?yr(o,!!i.multiple,i.defaultValue,!0):yr(o,!!i.multiple,i.multiple?[]:"",!1))}o[zo]=i}catch(x){pe(e,e.return,x)}}break;case 6:if(ht(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(F(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(x){pe(e,e.return,x)}}break;case 3:if(ht(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Co(t.containerInfo)}catch(x){pe(e,e.return,x)}break;case 4:ht(t,e),Et(e);break;case 13:ht(t,e),Et(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(zu=ye())),r&4&&ud(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(u=Ae)||c,ht(t,e),Ae=u):ht(t,e),Et(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(f=W=c;W!==null;){switch(h=W,g=h.child,h.tag){case 0:case 11:case 14:case 15:xo(4,h,h.return);break;case 1:pr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){pe(r,n,x)}}break;case 5:pr(h,h.return);break;case 22:if(h.memoizedState!==null){dd(f);continue}}g!==null?(g.return=h,W=g):dd(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Lf("display",s))}catch(x){pe(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){pe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ht(t,e),Et(e),r&4&&ud(e);break;case 21:break;default:ht(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(up(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(No(o,""),r.flags&=-33);var i=ad(e);ka(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=ad(e);Na(e,l,s);break;default:throw Error(F(161))}}catch(a){pe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qy(e,t,n){W=e,fp(e)}function fp(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||mi;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Ae;l=mi;var u=Ae;if(mi=s,(Ae=a)&&!u)for(W=o;W!==null;)s=W,a=s.child,s.tag===22&&s.memoizedState!==null?fd(o):a!==null?(a.return=s,W=a):fd(o);for(;i!==null;)W=i,fp(i),i=i.sibling;W=o,mi=l,Ae=u}cd(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,W=i):cd(e)}}function cd(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||As(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Kc(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Kc(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Co(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ae||t.flags&512&&Sa(t)}catch(h){pe(t,t.return,h)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function dd(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function fd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{As(4,t)}catch(a){pe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){pe(t,o,a)}}var i=t.return;try{Sa(t)}catch(a){pe(t,i,a)}break;case 5:var s=t.return;try{Sa(t)}catch(a){pe(t,s,a)}}}catch(a){pe(t,t.return,a)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Gy=Math.ceil,us=Kt.ReactCurrentDispatcher,Mu=Kt.ReactCurrentOwner,at=Kt.ReactCurrentBatchConfig,J=0,Ee=null,xe=null,be=0,Ge=0,mr=vn(0),Se=0,Lo=null,Vn=0,Rs=0,Tu=0,vo=null,Be=null,zu=0,Pr=1/0,At=null,cs=!1,Ea=null,fn=null,gi=!1,sn=null,ds=0,wo=0,_a=null,Ri=-1,Li=0;function Fe(){return J&6?ye():Ri!==-1?Ri:Ri=ye()}function hn(e){return e.mode&1?J&2&&be!==0?be&-be:Iy.transition!==null?(Li===0&&(Li=Gf()),Li):(e=re,e!==0||(e=window.event,e=e===void 0?16:rh(e.type)),e):1}function wt(e,t,n,r){if(50<wo)throw wo=0,_a=null,Error(F(185));Ko(e,n,r),(!(J&2)||e!==Ee)&&(e===Ee&&(!(J&2)&&(Rs|=n),Se===4&&nn(e,be)),Ke(e,r),n===1&&J===0&&!(t.mode&1)&&(Pr=ye()+500,Ps&&wn()))}function Ke(e,t){var n=e.callbackNode;Ig(e,t);var r=Ki(e,e===Ee?be:0);if(r===0)n!==null&&Sc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sc(n),t===1)e.tag===0?Py(hd.bind(null,e)):Nh(hd.bind(null,e)),by(function(){!(J&6)&&wn()}),n=null;else{switch(Zf(r)){case 1:n=ru;break;case 4:n=Kf;break;case 16:n=Xi;break;case 536870912:n=Qf;break;default:n=Xi}n=wp(n,hp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hp(e,t){if(Ri=-1,Li=0,J&6)throw Error(F(327));var n=e.callbackNode;if(Nr()&&e.callbackNode!==n)return null;var r=Ki(e,e===Ee?be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fs(e,r);else{t=r;var o=J;J|=2;var i=mp();(Ee!==e||be!==t)&&(At=null,Pr=ye()+500,An(e,t));do try{Jy();break}catch(l){pp(e,l)}while(!0);gu(),us.current=i,J=o,xe!==null?t=0:(Ee=null,be=0,t=Se)}if(t!==0){if(t===2&&(o=ql(e),o!==0&&(r=o,t=Ca(e,o))),t===1)throw n=Lo,An(e,0),nn(e,r),Ke(e,ye()),n;if(t===6)nn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Zy(o)&&(t=fs(e,r),t===2&&(i=ql(e),i!==0&&(r=i,t=Ca(e,i))),t===1))throw n=Lo,An(e,0),nn(e,r),Ke(e,ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:bn(e,Be,At);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=zu+500-ye(),10<t)){if(Ki(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=sa(bn.bind(null,e,Be,At),t);break}bn(e,Be,At);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-vt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gy(r/1960))-r,10<r){e.timeoutHandle=sa(bn.bind(null,e,Be,At),r);break}bn(e,Be,At);break;case 5:bn(e,Be,At);break;default:throw Error(F(329))}}}return Ke(e,ye()),e.callbackNode===n?hp.bind(null,e):null}function Ca(e,t){var n=vo;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=fs(e,t),e!==2&&(t=Be,Be=n,t!==null&&ja(t)),e}function ja(e){Be===null?Be=e:Be.push.apply(Be,e)}function Zy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!St(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~Tu,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function hd(e){if(J&6)throw Error(F(327));Nr();var t=Ki(e,0);if(!(t&1))return Ke(e,ye()),null;var n=fs(e,t);if(e.tag!==0&&n===2){var r=ql(e);r!==0&&(t=r,n=Ca(e,r))}if(n===1)throw n=Lo,An(e,0),nn(e,t),Ke(e,ye()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,Be,At),Ke(e,ye()),null}function Pu(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Pr=ye()+500,Ps&&wn())}}function Bn(e){sn!==null&&sn.tag===0&&!(J&6)&&Nr();var t=J;J|=1;var n=at.transition,r=re;try{if(at.transition=null,re=1,e)return e()}finally{re=r,at.transition=n,J=t,!(J&6)&&wn()}}function Iu(){Ge=mr.current,ue(mr)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jy(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(hu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ji();break;case 3:Tr(),ue(Ye),ue(Re),Nu();break;case 5:Su(r);break;case 4:Tr();break;case 13:ue(de);break;case 19:ue(de);break;case 10:yu(r.type._context);break;case 22:case 23:Iu()}n=n.return}if(Ee=e,xe=e=pn(e.current,null),be=Ge=t,Se=0,Lo=null,Tu=Rs=Vn=0,Be=vo=null,zn!==null){for(t=0;t<zn.length;t++)if(n=zn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}zn=null}return e}function pp(e,t){do{var n=xe;try{if(gu(),Ii.current=as,ls){for(var r=fe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ls=!1}if(Hn=0,ke=we=fe=null,yo=!1,$o=0,Mu.current=null,n===null||n.return===null){Se=1,Lo=t,xe=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=be,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=ed(s);if(g!==null){g.flags&=-257,td(g,s,l,i,t),g.mode&1&&Jc(i,u,t),t=g,a=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(a),t.updateQueue=x}else v.add(a);break e}else{if(!(t&1)){Jc(i,u,t),$u();break e}a=Error(F(426))}}else if(ce&&l.mode&1){var N=ed(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),td(N,s,l,i,t),pu(zr(a,l));break e}}i=a=zr(a,l),Se!==4&&(Se=2),vo===null?vo=[i]:vo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Zh(i,a,t);Xc(i,p);break e;case 1:l=a;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fn===null||!fn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=qh(i,l,t);Xc(i,w);break e}}i=i.return}while(i!==null)}yp(n)}catch(E){t=E,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function mp(){var e=us.current;return us.current=as,e===null?as:e}function $u(){(Se===0||Se===3||Se===2)&&(Se=4),Ee===null||!(Vn&268435455)&&!(Rs&268435455)||nn(Ee,be)}function fs(e,t){var n=J;J|=2;var r=mp();(Ee!==e||be!==t)&&(At=null,An(e,t));do try{qy();break}catch(o){pp(e,o)}while(!0);if(gu(),J=n,us.current=r,xe!==null)throw Error(F(261));return Ee=null,be=0,Se}function qy(){for(;xe!==null;)gp(xe)}function Jy(){for(;xe!==null&&!Eg();)gp(xe)}function gp(e){var t=vp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?yp(e):xe=t,Mu.current=null}function yp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yy(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,xe=null;return}}else if(n=Wy(n,t,Ge),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Se===0&&(Se=5)}function bn(e,t,n){var r=re,o=at.transition;try{at.transition=null,re=1,ex(e,t,n,r)}finally{at.transition=o,re=r}return null}function ex(e,t,n,r){do Nr();while(sn!==null);if(J&6)throw Error(F(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if($g(e,i),e===Ee&&(xe=Ee=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gi||(gi=!0,wp(Xi,function(){return Nr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=at.transition,at.transition=null;var s=re;re=1;var l=J;J|=4,Mu.current=null,Ky(e,n),dp(n,e),wy(oa),Qi=!!ra,oa=ra=null,e.current=n,Qy(n),_g(),J=l,re=s,at.transition=i}else e.current=n;if(gi&&(gi=!1,sn=e,ds=o),i=e.pendingLanes,i===0&&(fn=null),bg(n.stateNode),Ke(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(cs)throw cs=!1,e=Ea,Ea=null,e;return ds&1&&e.tag!==0&&Nr(),i=e.pendingLanes,i&1?e===_a?wo++:(wo=0,_a=e):wo=0,wn(),null}function Nr(){if(sn!==null){var e=Zf(ds),t=at.transition,n=re;try{if(at.transition=null,re=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,ds=0,J&6)throw Error(F(331));var o=J;for(J|=4,W=e.current;W!==null;){var i=W,s=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:xo(8,c,i)}var f=c.child;if(f!==null)f.return=c,W=f;else for(;W!==null;){c=W;var h=c.sibling,g=c.return;if(ap(c),c===u){W=null;break}if(h!==null){h.return=g,W=h;break}W=g}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}W=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,W=s;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xo(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,W=p;break e}W=i.return}}var m=e.current;for(W=m;W!==null;){s=W;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,W=y;else e:for(s=m;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:As(9,l)}}catch(E){pe(l,l.return,E)}if(l===s){W=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,W=w;break e}W=l.return}}if(J=o,wn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(js,e)}catch{}r=!0}return r}finally{re=n,at.transition=t}}return!1}function pd(e,t,n){t=zr(n,t),t=Zh(e,t,1),e=dn(e,t,1),t=Fe(),e!==null&&(Ko(e,1,t),Ke(e,t))}function pe(e,t,n){if(e.tag===3)pd(e,e,n);else for(;t!==null;){if(t.tag===3){pd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){e=zr(n,e),e=qh(t,e,1),t=dn(t,e,1),e=Fe(),t!==null&&(Ko(t,1,e),Ke(t,e));break}}t=t.return}}function tx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(be&n)===n&&(Se===4||Se===3&&(be&130023424)===be&&500>ye()-zu?An(e,0):Tu|=n),Ke(e,t)}function xp(e,t){t===0&&(e.mode&1?(t=si,si<<=1,!(si&130023424)&&(si=4194304)):t=1);var n=Fe();e=Ut(e,t),e!==null&&(Ko(e,t,n),Ke(e,n))}function nx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xp(e,n)}function rx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),xp(e,n)}var vp;vp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ue=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ue=!1,Uy(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,ce&&t.flags&1048576&&kh(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ai(e,t),e=t.pendingProps;var o=jr(t,Re.current);Sr(t,n),o=Eu(null,t,r,e,o,n);var i=_u();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(r)?(i=!0,es(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,vu(t),o.updater=$s,t.stateNode=o,o._reactInternals=t,ha(t,r,e,n),t=ga(null,t,r,!0,i,n)):(t.tag=0,ce&&i&&fu(t),Oe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ai(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=ix(r),e=pt(r,e),o){case 0:t=ma(null,t,r,e,n);break e;case 1:t=od(null,t,r,e,n);break e;case 11:t=nd(null,t,r,e,n);break e;case 14:t=rd(null,t,r,pt(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pt(r,o),ma(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pt(r,o),od(e,t,r,o,n);case 3:e:{if(np(t),e===null)throw Error(F(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Mh(e,t),is(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=zr(Error(F(423)),t),t=id(e,t,r,n,o);break e}else if(r!==o){o=zr(Error(F(424)),t),t=id(e,t,r,n,o);break e}else for(Ze=cn(t.stateNode.containerInfo.firstChild),qe=t,ce=!0,yt=null,n=jh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===o){t=Wt(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Th(t),e===null&&ca(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,ia(r,o)?s=null:i!==null&&ia(r,i)&&(t.flags|=32),tp(e,t),Oe(e,t,s,n),t.child;case 6:return e===null&&ca(t),null;case 13:return rp(e,t,n);case 4:return wu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pt(r,o),nd(e,t,r,o,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,se(rs,r._currentValue),r._currentValue=s,i!==null)if(St(i.value,s)){if(i.children===o.children&&!Ye.current){t=Wt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Ft(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),da(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(F(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),da(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Oe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Sr(t,n),o=ct(o),r=r(o),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,o=pt(r,t.pendingProps),o=pt(r.type,o),rd(e,t,r,o,n);case 15:return Jh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pt(r,o),Ai(e,t),t.tag=1,Xe(r)?(e=!0,es(t)):e=!1,Sr(t,n),Gh(t,r,o),ha(t,r,o,n),ga(null,t,r,!0,e,n);case 19:return op(e,t,n);case 22:return ep(e,t,n)}throw Error(F(156,t.tag))};function wp(e,t){return Xf(e,t)}function ox(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new ox(e,t,n,r)}function Au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ix(e){if(typeof e=="function")return Au(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eu)return 11;if(e===tu)return 14}return 2}function pn(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Di(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Au(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ir:return Rn(n.children,o,i,t);case Ja:s=8,o|=8;break;case Ll:return e=st(12,n,t,o|2),e.elementType=Ll,e.lanes=i,e;case Dl:return e=st(13,n,t,o),e.elementType=Dl,e.lanes=i,e;case Ol:return e=st(19,n,t,o),e.elementType=Ol,e.lanes=i,e;case Tf:return Ls(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bf:s=10;break e;case Mf:s=9;break e;case eu:s=11;break e;case tu:s=14;break e;case Zt:s=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=st(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Rn(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function Ls(e,t,n,r){return e=st(22,e,r,t),e.elementType=Tf,e.lanes=n,e.stateNode={isHidden:!1},e}function kl(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function El(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sx(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ru(e,t,n,r,o,i,s,l,a){return e=new sx(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(i),e}function lx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sp(e){if(!e)return yn;e=e._reactInternals;e:{if(Xn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Xe(n))return Sh(e,n,t)}return t}function Np(e,t,n,r,o,i,s,l,a){return e=Ru(n,r,!0,e,o,i,s,l,a),e.context=Sp(null),n=e.current,r=Fe(),o=hn(n),i=Ft(r,o),i.callback=t??null,dn(n,i,o),e.current.lanes=o,Ko(e,o,r),Ke(e,r),e}function Ds(e,t,n,r){var o=t.current,i=Fe(),s=hn(o);return n=Sp(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(o,t,s),e!==null&&(wt(e,o,s,i),Pi(e,o,s)),s}function hs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lu(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function ax(){return null}var kp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Du(e){this._internalRoot=e}Os.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Ds(e,t,null,null)};Os.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){Ds(null,e,null,null)}),t[Bt]=null}};function Os(e){this._internalRoot=e}Os.prototype.unstable_scheduleHydration=function(e){if(e){var t=eh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&nh(e)}};function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gd(){}function ux(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=hs(s);i.call(u)}}var s=Np(t,r,e,0,null,!1,!1,"",gd);return e._reactRootContainer=s,e[Bt]=s.current,Mo(e.nodeType===8?e.parentNode:e),Bn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=hs(a);l.call(u)}}var a=Ru(e,0,!1,null,null,!1,!1,"",gd);return e._reactRootContainer=a,e[Bt]=a.current,Mo(e.nodeType===8?e.parentNode:e),Bn(function(){Ds(t,a,n,r)}),a}function Hs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=hs(s);l.call(a)}}Ds(t,s,e,o)}else s=ux(n,t,e,o,r);return hs(s)}qf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=so(t.pendingLanes);n!==0&&(ou(t,n|1),Ke(t,ye()),!(J&6)&&(Pr=ye()+500,wn()))}break;case 13:Bn(function(){var r=Ut(e,1);if(r!==null){var o=Fe();wt(r,e,1,o)}}),Lu(e,1)}};iu=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var n=Fe();wt(t,e,134217728,n)}Lu(e,134217728)}};Jf=function(e){if(e.tag===13){var t=hn(e),n=Ut(e,t);if(n!==null){var r=Fe();wt(n,e,t,r)}Lu(e,t)}};eh=function(){return re};th=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Ql=function(e,t,n){switch(t){case"input":if(Vl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=zs(r);if(!o)throw Error(F(90));Pf(r),Vl(r,o)}}}break;case"textarea":$f(e,n);break;case"select":t=n.value,t!=null&&yr(e,!!n.multiple,t,!1)}};Hf=Pu;Vf=Bn;var cx={usingClientEntryPoint:!1,Events:[Go,ur,zs,Of,Ff,Pu]},qr={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dx={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wf(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||ax,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{js=yi.inject(dx),jt=yi}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cx;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(t))throw Error(F(200));return lx(e,t,null,n)};tt.createRoot=function(e,t){if(!Ou(e))throw Error(F(299));var n=!1,r="",o=kp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ru(e,1,!1,null,null,n,!1,r,o),e[Bt]=t.current,Mo(e.nodeType===8?e.parentNode:e),new Du(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Wf(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Bn(e)};tt.hydrate=function(e,t,n){if(!Fs(t))throw Error(F(200));return Hs(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!Ou(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=kp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Np(t,null,e,1,n??null,o,!1,i,s),e[Bt]=t.current,Mo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Os(t)};tt.render=function(e,t,n){if(!Fs(t))throw Error(F(200));return Hs(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!Fs(e))throw Error(F(40));return e._reactRootContainer?(Bn(function(){Hs(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};tt.unstable_batchedUpdates=Pu;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fs(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Hs(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function Ep(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ep)}catch(e){console.error(e)}}Ep(),Ef.exports=tt;var fx=Ef.exports,_p,yd=fx;_p=yd.createRoot,yd.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const n=j.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:a,...u},c)=>j.createElement("svg",{ref:c,...hx,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:["lucide",`lucide-${px(e)}`,l].join(" "),...u},[...t.map(([f,h])=>j.createElement(f,h)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ie("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ie("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ie("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ie("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ie("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ie("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),jx=({children:e,currentView:t,onViewChange:n})=>{const r=[{id:"menu",label:"Home",icon:ms},{id:"library",label:"Library",icon:jp},{id:"play",label:"Play",icon:Do},{id:"admin",label:"Create",icon:bp}];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[d.jsx("nav",{className:"bg-gray-800/90 backdrop-blur-sm border-b border-gray-700/50 sticky top-0 z-50",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ms,{className:"h-8 w-8 text-amber-400"}),d.jsx("h1",{className:"text-xl font-bold text-white",children:"StoryForge"})]}),d.jsx("div",{className:"flex space-x-1",children:r.map(({id:o,label:i,icon:s})=>d.jsxs("button",{onClick:()=>n(o),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ${t===o?"bg-amber-500 text-gray-900 shadow-lg shadow-amber-500/25":"text-gray-300 hover:text-white hover:bg-gray-700/50"}`,children:[d.jsx(s,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:i})]},o))})]})})}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})},bx=({storiesCount:e,savesCount:t,onViewChange:n})=>{const r=[{icon:gs,title:"Create Stories",description:"Build branching narratives with multiple paths and endings",color:"from-blue-500 to-purple-600"},{icon:Do,title:"Interactive Gameplay",description:"Make choices that shape your adventure and story outcome",color:"from-emerald-500 to-teal-600"},{icon:jp,title:"Story Library",description:"Explore a collection of engaging interactive adventures",color:"from-orange-500 to-red-600"}];return d.jsxs("div",{className:"space-y-12",children:[d.jsxs("div",{className:"text-center space-y-6 py-8",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[d.jsx(ms,{className:"h-16 w-16 text-amber-400"}),d.jsx("h1",{className:"text-5xl font-bold text-white",children:"StoryForge"})]}),d.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Create and play interactive stories with branching narratives. Every choice matters, every path leads to a different adventure."}),d.jsxs("div",{className:"flex items-center justify-center space-x-4 pt-6",children:[d.jsxs("button",{onClick:()=>n("library"),className:"flex items-center space-x-2 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors font-medium text-lg",children:[d.jsx(Do,{className:"h-5 w-5"}),d.jsx("span",{children:"Start Playing"})]}),d.jsxs("button",{onClick:()=>n("admin"),className:"flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium text-lg",children:[d.jsx(gs,{className:"h-5 w-5"}),d.jsx("span",{children:"Create Stories"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 text-center border border-gray-700",children:[d.jsx("div",{className:"text-3xl font-bold text-amber-400 mb-2",children:e}),d.jsx("div",{className:"text-gray-300",children:"Stories Available"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 text-center border border-gray-700",children:[d.jsx("div",{className:"text-3xl font-bold text-emerald-400 mb-2",children:t}),d.jsx("div",{className:"text-gray-300",children:"Game Saves"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 text-center border border-gray-700",children:[d.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:""}),d.jsx("div",{className:"text-gray-300",children:"Possibilities"})]})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-white text-center",children:"Features"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((o,i)=>d.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 hover:scale-105 transition-all duration-300 border border-gray-700 hover:border-gray-600",children:[d.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${o.color} rounded-lg flex items-center justify-center mb-4`,children:d.jsx(o.icon,{className:"h-6 w-6 text-white"})}),d.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:o.title}),d.jsx("p",{className:"text-gray-300 leading-relaxed",children:o.description})]},i))})]}),d.jsxs("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl p-8 border border-gray-700",children:[d.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-8",children:"How It Works"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 bg-amber-600 rounded-full flex items-center justify-center mx-auto",children:d.jsx(Sx,{className:"h-8 w-8 text-white"})}),d.jsx("h3",{className:"text-xl font-semibold text-white",children:"1. Create or Choose"}),d.jsx("p",{className:"text-gray-300",children:"Start by creating your own story or selecting one from the library"})]}),d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 bg-emerald-600 rounded-full flex items-center justify-center mx-auto",children:d.jsx(Cx,{className:"h-8 w-8 text-white"})}),d.jsx("h3",{className:"text-xl font-semibold text-white",children:"2. Make Choices"}),d.jsx("p",{className:"text-gray-300",children:"Navigate through the story by making meaningful choices"})]}),d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto",children:d.jsx(_x,{className:"h-8 w-8 text-white"})}),d.jsx("h3",{className:"text-xl font-semibold text-white",children:"3. Experience"}),d.jsx("p",{className:"text-gray-300",children:"Enjoy unique stories that change based on your decisions"})]})]})]}),d.jsxs("div",{className:"text-center py-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Begin Your Adventure?"}),d.jsx("p",{className:"text-gray-300 mb-6",children:"Join the world of interactive storytelling today"}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-4",children:[d.jsx("button",{onClick:()=>n("library"),className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-lg hover:from-amber-700 hover:to-orange-700 transition-all duration-200 font-medium",children:"Explore Stories"}),d.jsx("button",{onClick:()=>n("admin"),className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-medium",children:"Create Your Own"})]})]})]})},Mx=({isOpen:e,story:t,onSave:n,onClose:r})=>{const[o,i]=j.useState({title:"",author:"",description:"",difficulty:"easy",startNodeId:"",tags:[]}),[s,l]=j.useState("");j.useEffect(()=>{t&&i({title:t.title,author:t.author,description:t.description,difficulty:t.difficulty,startNodeId:t.startNodeId,tags:[...t.tags]})},[t]);const a=h=>{h.preventDefault(),n(o),r()},u=()=>{s.trim()&&!o.tags.includes(s.trim())&&(i(h=>({...h,tags:[...h.tags,s.trim()]})),l(""))},c=h=>{i(g=>({...g,tags:g.tags.filter(v=>v!==h)}))};if(!e||!t)return null;const f=Object.values(t.nodes);return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[d.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Story Details"}),d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Ma,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:a,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Story Title *"}),d.jsx("input",{type:"text",value:o.title,onChange:h=>i(g=>({...g,title:h.target.value})),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Author *"}),d.jsx("input",{type:"text",value:o.author,onChange:h=>i(g=>({...g,author:h.target.value})),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description *"}),d.jsx("textarea",{value:o.description,onChange:h=>i(g=>({...g,description:h.target.value})),rows:4,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Difficulty"}),d.jsxs("select",{value:o.difficulty,onChange:h=>i(g=>({...g,difficulty:h.target.value})),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[d.jsx("option",{value:"easy",children:"Easy"}),d.jsx("option",{value:"medium",children:"Medium"}),d.jsx("option",{value:"hard",children:"Hard"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Starting Node"}),d.jsxs("select",{value:o.startNodeId,onChange:h=>i(g=>({...g,startNodeId:h.target.value})),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0,children:[d.jsx("option",{value:"",children:"Select starting node..."}),f.map(h=>d.jsx("option",{value:h.id,children:h.title},h.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:o.tags.map(h=>d.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-amber-600 text-white rounded-full text-sm",children:[d.jsx(Mp,{className:"h-3 w-3 mr-1"}),h,d.jsx("button",{type:"button",onClick:()=>c(h),className:"ml-2 text-amber-200 hover:text-white",children:d.jsx(Ma,{className:"h-3 w-3"})})]},h))}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",value:s,onChange:h=>l(h.target.value),onKeyPress:h=>h.key==="Enter"&&(h.preventDefault(),u()),placeholder:"Add a tag...",className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),d.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Add"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700",children:[d.jsx("button",{type:"button",onClick:r,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx(Fu,{className:"h-4 w-4"}),d.jsx("span",{children:"Save Changes"})]})]})]})]})})},Tx=({isOpen:e,node:t,availableNodes:n,isNewNode:r=!1,onSave:o,onDelete:i,onClose:s})=>{const[l,a]=j.useState({title:"",content:"",isEnding:!1,image:"",choices:[]}),[u,c]=j.useState(!1);j.useEffect(()=>{t?a({title:t.title,content:t.content,isEnding:t.isEnding,image:t.image||"",choices:[...t.choices]}):r&&a({title:"New Scene",content:"Describe what happens here...",isEnding:!1,image:"",choices:[]})},[t,r]);const f=N=>{N.preventDefault(),o(l),s()},h=()=>{var p;const N={id:Date.now().toString(),text:"New choice...",targetNodeId:((p=n[0])==null?void 0:p.id)||""};a(m=>({...m,choices:[...m.choices,N]}))},g=(N,p)=>{a(m=>({...m,choices:m.choices.map((y,w)=>w===N?{...y,...p}:y)}))},v=N=>{a(p=>({...p,choices:p.choices.filter((m,y)=>y!==N)}))},x=()=>{i&&(i(),s())};return e?d.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[d.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[d.jsx("h2",{className:"text-2xl font-bold text-white",children:r?"Create New Node":"Edit Story Node"}),d.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Ma,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Scene Title *"}),d.jsx("input",{type:"text",value:l.title,onChange:N=>a(p=>({...p,title:N.target.value})),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Scene Image URL (Optional)"}),d.jsxs("div",{className:"relative",children:[d.jsx(xx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"url",value:l.image,onChange:N=>a(p=>({...p,image:N.target.value})),placeholder:"https://example.com/image.jpg",className:"w-full pl-10 pr-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Scene Content *"}),d.jsx("textarea",{value:l.content,onChange:N=>a(p=>({...p,content:N.target.value})),rows:6,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Describe what happens in this scene...",required:!0})]}),d.jsx("div",{className:"flex items-center space-x-4",children:d.jsxs("label",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:l.isEnding,onChange:N=>a(p=>({...p,isEnding:N.target.checked})),className:"rounded border-gray-600 text-amber-500 focus:ring-amber-500 bg-gray-700"}),d.jsx("span",{className:"text-gray-300",children:"This is an ending scene"})]})}),!l.isEnding&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Player Choices"}),d.jsxs("button",{type:"button",onClick:h,className:"flex items-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx(Oi,{className:"h-4 w-4"}),d.jsx("span",{children:"Add Choice"})]})]}),d.jsxs("div",{className:"space-y-4",children:[l.choices.map((N,p)=>d.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Choice Text *"}),d.jsx("input",{type:"text",value:N.text,onChange:m=>g(p,{text:m.target.value}),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white focus:ring-2 focus:ring-amber-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Scene *"}),d.jsxs("select",{value:N.targetNodeId,onChange:m=>g(p,{targetNodeId:m.target.value}),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white focus:ring-2 focus:ring-amber-500",required:!0,children:[d.jsx("option",{value:"",children:"Select target scene..."}),n.map(m=>d.jsx("option",{value:m.id,children:m.title},m.id))]})]})]}),d.jsxs("button",{type:"button",onClick:()=>v(p),className:"flex items-center space-x-2 text-red-400 hover:text-red-300 transition-colors",children:[d.jsx(ba,{className:"h-4 w-4"}),d.jsx("span",{children:"Remove Choice"})]})]},N.id)),l.choices.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-400",children:d.jsx("p",{children:"No choices added yet. Add at least one choice for players to continue the story."})})]})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[d.jsx("div",{children:!r&&i&&d.jsxs("button",{type:"button",onClick:()=>c(!0),className:"flex items-center space-x-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(ba,{className:"h-4 w-4"}),d.jsx("span",{children:"Delete Node"})]})}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx(Fu,{className:"h-4 w-4"}),d.jsx("span",{children:r?"Create Node":"Save Changes"})]})]})]})]})]}),u&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-60",children:d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx(ps,{className:"h-6 w-6 text-red-400"}),d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Confirm Deletion"})]}),d.jsx("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to delete this node? This action cannot be undone and may break story connections."}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]}):null};function Te(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Te(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Tp={exports:{}},zp={},Pp={exports:{}},Ip={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ir=j;function zx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Px=typeof Object.is=="function"?Object.is:zx,Ix=Ir.useState,$x=Ir.useEffect,Ax=Ir.useLayoutEffect,Rx=Ir.useDebugValue;function Lx(e,t){var n=t(),r=Ix({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Ax(function(){o.value=n,o.getSnapshot=t,_l(o)&&i({inst:o})},[e,n,t]),$x(function(){return _l(o)&&i({inst:o}),e(function(){_l(o)&&i({inst:o})})},[e]),Rx(n),n}function _l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Px(e,n)}catch{return!0}}function Dx(e,t){return t()}var Ox=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Dx:Lx;Ip.useSyncExternalStore=Ir.useSyncExternalStore!==void 0?Ir.useSyncExternalStore:Ox;Pp.exports=Ip;var Fx=Pp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=j,Hx=Fx;function Vx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bx=typeof Object.is=="function"?Object.is:Vx,Ux=Hx.useSyncExternalStore,Wx=Vs.useRef,Yx=Vs.useEffect,Xx=Vs.useMemo,Kx=Vs.useDebugValue;zp.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Wx(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Xx(function(){function a(g){if(!u){if(u=!0,c=g,g=r(g),o!==void 0&&s.hasValue){var v=s.value;if(o(v,g))return f=v}return f=g}if(v=f,Bx(c,g))return v;var x=r(g);return o!==void 0&&o(v,x)?(c=g,v):(c=g,f=x)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,o]);var l=Ux(e,i[0],i[1]);return Yx(function(){s.hasValue=!0,s.value=l},[l]),Kx(l),l};Tp.exports=zp;var Qx=Tp.exports;const Gx=ff(Qx),Zx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Nd=e=>{let t;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const g=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,g))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Zx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},qx=e=>e?Nd(e):Nd,{useDebugValue:Jx}=A,{useSyncExternalStoreWithSelector:ev}=Gx,tv=e=>e;function $p(e,t=tv,n){const r=ev(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Jx(r),r}const kd=(e,t)=>{const n=qx(e),r=(o,i=t)=>$p(n,o,i);return Object.assign(r,n),r},nv=(e,t)=>e?kd(e,t):kd;function _e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var rv={value:()=>{}};function Bs(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Fi(n)}function Fi(e){this._=e}function ov(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fi.prototype=Bs.prototype={constructor:Fi,on:function(e,t){var n=this._,r=ov(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=iv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=Ed(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Ed(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fi(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function iv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Ed(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=rv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ta="http://www.w3.org/1999/xhtml";const _d={svg:"http://www.w3.org/2000/svg",xhtml:Ta,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Us(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_d.hasOwnProperty(t)?{space:_d[t],local:e}:e}function sv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ta&&t.documentElement.namespaceURI===Ta?t.createElement(e):t.createElementNS(n,e)}}function lv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ap(e){var t=Us(e);return(t.local?lv:sv)(t)}function av(){}function Hu(e){return e==null?av:function(){return this.querySelector(e)}}function uv(e){typeof e!="function"&&(e=Hu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,c=0;c<s;++c)(a=i[c])&&(u=e.call(a,a.__data__,c,i))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new et(r,this._parents)}function cv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function dv(){return[]}function Rp(e){return e==null?dv:function(){return this.querySelectorAll(e)}}function fv(e){return function(){return cv(e.apply(this,arguments))}}function hv(e){typeof e=="function"?e=fv(e):e=Rp(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new et(r,o)}function Lp(e){return function(){return this.matches(e)}}function Dp(e){return function(t){return t.matches(e)}}var pv=Array.prototype.find;function mv(e){return function(){return pv.call(this.children,e)}}function gv(){return this.firstElementChild}function yv(e){return this.select(e==null?gv:mv(typeof e=="function"?e:Dp(e)))}var xv=Array.prototype.filter;function vv(){return Array.from(this.children)}function wv(e){return function(){return xv.call(this.children,e)}}function Sv(e){return this.selectAll(e==null?vv:wv(typeof e=="function"?e:Dp(e)))}function Nv(e){typeof e!="function"&&(e=Lp(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new et(r,this._parents)}function Op(e){return new Array(e.length)}function kv(){return new et(this._enter||this._groups.map(Op),this._parents)}function ys(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ys.prototype={constructor:ys,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ev(e){return function(){return e}}function _v(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new ys(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function Cv(e,t,n,r,o,i,s){var l,a,u=new Map,c=t.length,f=i.length,h=new Array(c),g;for(l=0;l<c;++l)(a=t[l])&&(h[l]=g=s.call(a,a.__data__,l,t)+"",u.has(g)?o[l]=a:u.set(g,a));for(l=0;l<f;++l)g=s.call(e,i[l],l,i)+"",(a=u.get(g))?(r[l]=a,a.__data__=i[l],u.delete(g)):n[l]=new ys(e,i[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(h[l])===a&&(o[l]=a)}function jv(e){return e.__data__}function bv(e,t){if(!arguments.length)return Array.from(this,jv);var n=t?Cv:_v,r=this._parents,o=this._groups;typeof e!="function"&&(e=Ev(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var c=r[u],f=o[u],h=f.length,g=Mv(e.call(c,c&&c.__data__,u,r)),v=g.length,x=l[u]=new Array(v),N=s[u]=new Array(v),p=a[u]=new Array(h);n(c,f,x,N,p,g,t);for(var m=0,y=0,w,E;m<v;++m)if(w=x[m]){for(m>=y&&(y=m+1);!(E=N[y])&&++y<v;);w._next=E||null}}return s=new et(s,r),s._enter=l,s._exit=a,s}function Mv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tv(){return new et(this._exit||this._groups.map(Op),this._parents)}function zv(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Pv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],c=r[a],f=u.length,h=l[a]=new Array(f),g,v=0;v<f;++v)(g=u[v]||c[v])&&(h[v]=g);for(;a<o;++a)l[a]=n[a];return new et(l,this._parents)}function Iv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function $v(e){e||(e=Av);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new et(o,this._parents).order()}function Av(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Rv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Lv(){return Array.from(this)}function Dv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Ov(){let e=0;for(const t of this)++e;return e}function Fv(){return!this.node()}function Hv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function Vv(e){return function(){this.removeAttribute(e)}}function Bv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Uv(e,t){return function(){this.setAttribute(e,t)}}function Wv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Yv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Xv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Kv(e,t){var n=Us(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Bv:Vv:typeof t=="function"?n.local?Xv:Yv:n.local?Wv:Uv)(n,t))}function Fp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Qv(e){return function(){this.style.removeProperty(e)}}function Gv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Zv(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function qv(e,t,n){return arguments.length>1?this.each((t==null?Qv:typeof t=="function"?Zv:Gv)(e,t,n??"")):$r(this.node(),e)}function $r(e,t){return e.style.getPropertyValue(t)||Fp(e).getComputedStyle(e,null).getPropertyValue(t)}function Jv(e){return function(){delete this[e]}}function e1(e,t){return function(){this[e]=t}}function t1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function n1(e,t){return arguments.length>1?this.each((t==null?Jv:typeof t=="function"?t1:e1)(e,t)):this.node()[e]}function Hp(e){return e.trim().split(/^|\s+/)}function Vu(e){return e.classList||new Vp(e)}function Vp(e){this._node=e,this._names=Hp(e.getAttribute("class")||"")}Vp.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Bp(e,t){for(var n=Vu(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Up(e,t){for(var n=Vu(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function r1(e){return function(){Bp(this,e)}}function o1(e){return function(){Up(this,e)}}function i1(e,t){return function(){(t.apply(this,arguments)?Bp:Up)(this,e)}}function s1(e,t){var n=Hp(e+"");if(arguments.length<2){for(var r=Vu(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?i1:t?r1:o1)(n,t))}function l1(){this.textContent=""}function a1(e){return function(){this.textContent=e}}function u1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function c1(e){return arguments.length?this.each(e==null?l1:(typeof e=="function"?u1:a1)(e)):this.node().textContent}function d1(){this.innerHTML=""}function f1(e){return function(){this.innerHTML=e}}function h1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function p1(e){return arguments.length?this.each(e==null?d1:(typeof e=="function"?h1:f1)(e)):this.node().innerHTML}function m1(){this.nextSibling&&this.parentNode.appendChild(this)}function g1(){return this.each(m1)}function y1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function x1(){return this.each(y1)}function v1(e){var t=typeof e=="function"?e:Ap(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function w1(){return null}function S1(e,t){var n=typeof e=="function"?e:Ap(e),r=t==null?w1:typeof t=="function"?t:Hu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function N1(){var e=this.parentNode;e&&e.removeChild(this)}function k1(){return this.each(N1)}function E1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function C1(e){return this.select(e?_1:E1)}function j1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function b1(e){return function(t){e.call(this,t,this.__data__)}}function M1(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function T1(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function z1(e,t,n){return function(){var r=this.__on,o,i=b1(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function P1(e,t,n){var r=M1(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<i;++o)if((s=r[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?z1:T1,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Wp(e,t,n){var r=Fp(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function I1(e,t){return function(){return Wp(this,e,t)}}function $1(e,t){return function(){return Wp(this,e,t.apply(this,arguments))}}function A1(e,t){return this.each((typeof t=="function"?$1:I1)(e,t))}function*R1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Yp=[null];function et(e,t){this._groups=e,this._parents=t}function qo(){return new et([[document.documentElement]],Yp)}function L1(){return this}et.prototype=qo.prototype={constructor:et,select:uv,selectAll:hv,selectChild:yv,selectChildren:Sv,filter:Nv,data:bv,enter:kv,exit:Tv,join:zv,merge:Pv,selection:L1,order:Iv,sort:$v,call:Rv,nodes:Lv,node:Dv,size:Ov,empty:Fv,each:Hv,attr:Kv,style:qv,property:n1,classed:s1,text:c1,html:p1,raise:g1,lower:x1,append:v1,insert:S1,remove:k1,clone:C1,datum:j1,on:P1,dispatch:A1,[Symbol.iterator]:R1};function it(e){return typeof e=="string"?new et([[document.querySelector(e)]],[document.documentElement]):new et([[e]],Yp)}function D1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function gt(e,t){if(e=D1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const O1={passive:!1},Oo={capture:!0,passive:!1};function Cl(e){e.stopImmediatePropagation()}function kr(e){e.preventDefault(),e.stopImmediatePropagation()}function Xp(e){var t=e.document.documentElement,n=it(e).on("dragstart.drag",kr,Oo);"onselectstart"in t?n.on("selectstart.drag",kr,Oo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Kp(e,t){var n=e.document.documentElement,r=it(e).on("dragstart.drag",null);t&&(r.on("click.drag",kr,Oo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xi=e=>()=>e;function za(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}za.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function F1(e){return!e.ctrlKey&&!e.button}function H1(){return this.parentNode}function V1(e,t){return t??{x:e.x,y:e.y}}function B1(){return navigator.maxTouchPoints||"ontouchstart"in this}function U1(){var e=F1,t=H1,n=V1,r=B1,o={},i=Bs("start","drag","end"),s=0,l,a,u,c,f=0;function h(w){w.on("mousedown.drag",g).filter(r).on("touchstart.drag",N).on("touchmove.drag",p,O1).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(w,E){if(!(c||!e.call(this,w,E))){var b=y(this,t.call(this,w,E),w,E,"mouse");b&&(it(w.view).on("mousemove.drag",v,Oo).on("mouseup.drag",x,Oo),Xp(w.view),Cl(w),u=!1,l=w.clientX,a=w.clientY,b("start",w))}}function v(w){if(kr(w),!u){var E=w.clientX-l,b=w.clientY-a;u=E*E+b*b>f}o.mouse("drag",w)}function x(w){it(w.view).on("mousemove.drag mouseup.drag",null),Kp(w.view,u),kr(w),o.mouse("end",w)}function N(w,E){if(e.call(this,w,E)){var b=w.changedTouches,z=t.call(this,w,E),_=b.length,C,I;for(C=0;C<_;++C)(I=y(this,z,w,E,b[C].identifier,b[C]))&&(Cl(w),I("start",w,b[C]))}}function p(w){var E=w.changedTouches,b=E.length,z,_;for(z=0;z<b;++z)(_=o[E[z].identifier])&&(kr(w),_("drag",w,E[z]))}function m(w){var E=w.changedTouches,b=E.length,z,_;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),z=0;z<b;++z)(_=o[E[z].identifier])&&(Cl(w),_("end",w,E[z]))}function y(w,E,b,z,_,C){var I=i.copy(),L=gt(C||b,E),V,H,S;if((S=n.call(w,new za("beforestart",{sourceEvent:b,target:h,identifier:_,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:I}),z))!=null)return V=S.x-L[0]||0,H=S.y-L[1]||0,function $(M,D,T){var k=L,P;switch(M){case"start":o[_]=$,P=s++;break;case"end":delete o[_],--s;case"drag":L=gt(T||D,E),P=s;break}I.call(M,w,new za(M,{sourceEvent:D,subject:S,target:h,identifier:_,active:P,x:L[0]+V,y:L[1]+H,dx:L[0]-k[0],dy:L[1]-k[1],dispatch:I}),z)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:xi(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:xi(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:xi(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:xi(!!w),h):r},h.on=function(){var w=i.on.apply(i,arguments);return w===i?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function Bu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Qp(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Jo(){}var Fo=.7,xs=1/Fo,Er="\\s*([+-]?\\d+)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W1=/^#([0-9a-f]{3,8})$/,Y1=new RegExp(`^rgb\\(${Er},${Er},${Er}\\)$`),X1=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),K1=new RegExp(`^rgba\\(${Er},${Er},${Er},${Ho}\\)$`),Q1=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Ho}\\)$`),G1=new RegExp(`^hsl\\(${Ho},${Mt},${Mt}\\)$`),Z1=new RegExp(`^hsla\\(${Ho},${Mt},${Mt},${Ho}\\)$`),Cd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bu(Jo,Vo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jd,formatHex:jd,formatHex8:q1,formatHsl:J1,formatRgb:bd,toString:bd});function jd(){return this.rgb().formatHex()}function q1(){return this.rgb().formatHex8()}function J1(){return Gp(this).formatHsl()}function bd(){return this.rgb().formatRgb()}function Vo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=W1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Md(t):n===3?new We(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Y1.exec(e))?new We(t[1],t[2],t[3],1):(t=X1.exec(e))?new We(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=K1.exec(e))?vi(t[1],t[2],t[3],t[4]):(t=Q1.exec(e))?vi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=G1.exec(e))?Pd(t[1],t[2]/100,t[3]/100,1):(t=Z1.exec(e))?Pd(t[1],t[2]/100,t[3]/100,t[4]):Cd.hasOwnProperty(e)?Md(Cd[e]):e==="transparent"?new We(NaN,NaN,NaN,0):null}function Md(e){return new We(e>>16&255,e>>8&255,e&255,1)}function vi(e,t,n,r){return r<=0&&(e=t=n=NaN),new We(e,t,n,r)}function ew(e){return e instanceof Jo||(e=Vo(e)),e?(e=e.rgb(),new We(e.r,e.g,e.b,e.opacity)):new We}function Pa(e,t,n,r){return arguments.length===1?ew(e):new We(e,t,n,r??1)}function We(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Bu(We,Pa,Qp(Jo,{brighter(e){return e=e==null?xs:Math.pow(xs,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fo:Math.pow(Fo,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new We(Ln(this.r),Ln(this.g),Ln(this.b),vs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Td,formatHex:Td,formatHex8:tw,formatRgb:zd,toString:zd}));function Td(){return`#${In(this.r)}${In(this.g)}${In(this.b)}`}function tw(){return`#${In(this.r)}${In(this.g)}${In(this.b)}${In((isNaN(this.opacity)?1:this.opacity)*255)}`}function zd(){const e=vs(this.opacity);return`${e===1?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${e===1?")":`, ${e})`}`}function vs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ln(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function In(e){return e=Ln(e),(e<16?"0":"")+e.toString(16)}function Pd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xt(e,t,n,r)}function Gp(e){if(e instanceof xt)return new xt(e.h,e.s,e.l,e.opacity);if(e instanceof Jo||(e=Vo(e)),!e)return new xt;if(e instanceof xt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new xt(s,l,a,e.opacity)}function nw(e,t,n,r){return arguments.length===1?Gp(e):new xt(e,t,n,r??1)}function xt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bu(xt,nw,Qp(Jo,{brighter(e){return e=e==null?xs:Math.pow(xs,e),new xt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fo:Math.pow(Fo,e),new xt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new We(jl(e>=240?e-240:e+120,o,r),jl(e,o,r),jl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new xt(Id(this.h),wi(this.s),wi(this.l),vs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vs(this.opacity);return`${e===1?"hsl(":"hsla("}${Id(this.h)}, ${wi(this.s)*100}%, ${wi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Id(e){return e=(e||0)%360,e<0?e+360:e}function wi(e){return Math.max(0,Math.min(1,e||0))}function jl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Zp=e=>()=>e;function rw(e,t){return function(n){return e+n*t}}function ow(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function iw(e){return(e=+e)==1?qp:function(t,n){return n-t?ow(t,n,e):Zp(isNaN(t)?n:t)}}function qp(e,t){var n=t-e;return n?rw(e,n):Zp(isNaN(e)?t:e)}const $d=function e(t){var n=iw(t);function r(o,i){var s=n((o=Pa(o)).r,(i=Pa(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=qp(o.opacity,i.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function Jt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ia=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bl=new RegExp(Ia.source,"g");function sw(e){return function(){return e}}function lw(e){return function(t){return e(t)+""}}function aw(e,t){var n=Ia.lastIndex=bl.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Ia.exec(e))&&(o=bl.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:Jt(r,o)})),n=bl.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?lw(a[0].x):sw(t):(t=a.length,function(u){for(var c=0,f;c<t;++c)l[(f=a[c]).i]=f.x(u);return l.join("")})}var Ad=180/Math.PI,$a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jp(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Ad,skewX:Math.atan(a)*Ad,scaleX:s,scaleY:l}}var Si;function uw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$a:Jp(t.a,t.b,t.c,t.d,t.e,t.f)}function cw(e){return e==null||(Si||(Si=document.createElementNS("http://www.w3.org/2000/svg","g")),Si.setAttribute("transform",e),!(e=Si.transform.baseVal.consolidate()))?$a:(e=e.matrix,Jp(e.a,e.b,e.c,e.d,e.e,e.f))}function e0(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,f,h,g,v){if(u!==f||c!==h){var x=g.push("translate(",null,t,null,n);v.push({i:x-4,x:Jt(u,f)},{i:x-2,x:Jt(c,h)})}else(f||h)&&g.push("translate("+f+t+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(o(f)+"rotate(",null,r)-2,x:Jt(u,c)})):c&&f.push(o(f)+"rotate("+c+r)}function l(u,c,f,h){u!==c?h.push({i:f.push(o(f)+"skewX(",null,r)-2,x:Jt(u,c)}):c&&f.push(o(f)+"skewX("+c+r)}function a(u,c,f,h,g,v){if(u!==f||c!==h){var x=g.push(o(g)+"scale(",null,",",null,")");v.push({i:x-4,x:Jt(u,f)},{i:x-2,x:Jt(c,h)})}else(f!==1||h!==1)&&g.push(o(g)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),l(u.skewX,c.skewX,f,h),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(g){for(var v=-1,x=h.length,N;++v<x;)f[(N=h[v]).i]=N.x(g);return f.join("")}}}var dw=e0(uw,"px, ","px)","deg)"),fw=e0(cw,", ",")",")"),hw=1e-12;function Rd(e){return((e=Math.exp(e))+1/e)/2}function pw(e){return((e=Math.exp(e))-1/e)/2}function mw(e){return((e=Math.exp(2*e))-1)/(e+1)}const gw=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],c=s[0],f=s[1],h=s[2],g=c-l,v=f-a,x=g*g+v*v,N,p;if(x<hw)p=Math.log(h/u)/t,N=function(z){return[l+z*g,a+z*v,u*Math.exp(t*z*p)]};else{var m=Math.sqrt(x),y=(h*h-u*u+r*x)/(2*u*n*m),w=(h*h-u*u-r*x)/(2*h*n*m),E=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(w*w+1)-w);p=(b-E)/t,N=function(z){var _=z*p,C=Rd(E),I=u/(n*m)*(C*mw(t*_+E)-pw(E));return[l+I*g,a+I*v,u*C/Rd(t*_+E)]}}return N.duration=p*1e3*t/Math.SQRT2,N}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Ar=0,ao=0,Jr=0,t0=1e3,ws,uo,Ss=0,Un=0,Ws=0,Bo=typeof performance=="object"&&performance.now?performance:Date,n0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Uu(){return Un||(n0(yw),Un=Bo.now()+Ws)}function yw(){Un=0}function Ns(){this._call=this._time=this._next=null}Ns.prototype=r0.prototype={constructor:Ns,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Uu():+n)+(t==null?0:+t),!this._next&&uo!==this&&(uo?uo._next=this:ws=this,uo=this),this._call=e,this._time=n,Aa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Aa())}};function r0(e,t,n){var r=new Ns;return r.restart(e,t,n),r}function xw(){Uu(),++Ar;for(var e=ws,t;e;)(t=Un-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ar}function Ld(){Un=(Ss=Bo.now())+Ws,Ar=ao=0;try{xw()}finally{Ar=0,ww(),Un=0}}function vw(){var e=Bo.now(),t=e-Ss;t>t0&&(Ws-=t,Ss=e)}function ww(){for(var e,t=ws,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ws=n);uo=e,Aa(r)}function Aa(e){if(!Ar){ao&&(ao=clearTimeout(ao));var t=e-Un;t>24?(e<1/0&&(ao=setTimeout(Ld,e-Bo.now()-Ws)),Jr&&(Jr=clearInterval(Jr))):(Jr||(Ss=Bo.now(),Jr=setInterval(vw,t0)),Ar=1,n0(Ld))}}function Dd(e,t,n){var r=new Ns;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Sw=Bs("start","end","cancel","interrupt"),Nw=[],o0=0,Od=1,Ra=2,Hi=3,Fd=4,La=5,Vi=6;function Ys(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;kw(e,n,{name:t,index:r,group:o,on:Sw,tween:Nw,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:o0})}function Wu(e,t){var n=Nt(e,t);if(n.state>o0)throw new Error("too late; already scheduled");return n}function Tt(e,t){var n=Nt(e,t);if(n.state>Hi)throw new Error("too late; already running");return n}function Nt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function kw(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=r0(i,0,n.time);function i(u){n.state=Od,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,g;if(n.state!==Od)return a();for(c in r)if(g=r[c],g.name===n.name){if(g.state===Hi)return Dd(s);g.state===Fd?(g.state=Vi,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<t&&(g.state=Vi,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(Dd(function(){n.state===Hi&&(n.state=Fd,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ra,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ra){for(n.state=Hi,o=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=g);o.length=f+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=La,1),f=-1,h=o.length;++f<h;)o[f].call(e,c);n.state===La&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Vi,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Bi(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Ra&&r.state<La,r.state=Vi,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function Ew(e){return this.each(function(){Bi(this,e)})}function _w(e,t){var n,r;return function(){var o=Tt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function Cw(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Tt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function jw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Nt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?_w:Cw)(n,e,t))}function Yu(e,t,n){var r=e._id;return e.each(function(){var o=Tt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Nt(o,r).value[t]}}function i0(e,t){var n;return(typeof t=="number"?Jt:t instanceof Vo?$d:(n=Vo(t))?(t=n,$d):aw)(e,t)}function bw(e){return function(){this.removeAttribute(e)}}function Mw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tw(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function zw(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Pw(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function Iw(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function $w(e,t){var n=Us(e),r=n==="transform"?fw:i0;return this.attrTween(e,typeof t=="function"?(n.local?Iw:Pw)(n,r,Yu(this,"attr."+e,t)):t==null?(n.local?Mw:bw)(n):(n.local?zw:Tw)(n,r,t))}function Aw(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Rw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Lw(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Rw(e,i)),n}return o._value=t,o}function Dw(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Aw(e,i)),n}return o._value=t,o}function Ow(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Us(e);return this.tween(n,(r.local?Lw:Dw)(r,t))}function Fw(e,t){return function(){Wu(this,e).delay=+t.apply(this,arguments)}}function Hw(e,t){return t=+t,function(){Wu(this,e).delay=t}}function Vw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Fw:Hw)(t,e)):Nt(this.node(),t).delay}function Bw(e,t){return function(){Tt(this,e).duration=+t.apply(this,arguments)}}function Uw(e,t){return t=+t,function(){Tt(this,e).duration=t}}function Ww(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Bw:Uw)(t,e)):Nt(this.node(),t).duration}function Yw(e,t){if(typeof t!="function")throw new Error;return function(){Tt(this,e).ease=t}}function Xw(e){var t=this._id;return arguments.length?this.each(Yw(t,e)):Nt(this.node(),t).ease}function Kw(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Tt(this,e).ease=n}}function Qw(e){if(typeof e!="function")throw new Error;return this.each(Kw(this._id,e))}function Gw(e){typeof e!="function"&&(e=Lp(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Yt(r,this._parents,this._name,this._id)}function Zw(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],c=a.length,f=s[l]=new Array(c),h,g=0;g<c;++g)(h=a[g]||u[g])&&(f[g]=h);for(;l<r;++l)s[l]=t[l];return new Yt(s,this._parents,this._name,this._id)}function qw(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Jw(e,t,n){var r,o,i=qw(t)?Wu:Tt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function e2(e,t){var n=this._id;return arguments.length<2?Nt(this.node(),n).on.on(e):this.each(Jw(n,e,t))}function t2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function n2(){return this.on("end.remove",t2(this._id))}function r2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hu(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),c,f,h=0;h<a;++h)(c=l[h])&&(f=e.call(c,c.__data__,h,l))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,Ys(u[h],t,n,h,u,Nt(c,n)));return new Yt(i,this._parents,t,n)}function o2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Rp(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,f=0;f<u;++f)if(c=a[f]){for(var h=e.call(c,c.__data__,f,a),g,v=Nt(c,n),x=0,N=h.length;x<N;++x)(g=h[x])&&Ys(g,t,n,x,h,v);i.push(h),s.push(c)}return new Yt(i,s,t,n)}var i2=qo.prototype.constructor;function s2(){return new i2(this._groups,this._parents)}function l2(e,t){var n,r,o;return function(){var i=$r(this,e),s=(this.style.removeProperty(e),$r(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function s0(e){return function(){this.style.removeProperty(e)}}function a2(e,t,n){var r,o=n+"",i;return function(){var s=$r(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function u2(e,t,n){var r,o,i;return function(){var s=$r(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),$r(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function c2(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=Tt(this,e),u=a.on,c=a.value[i]==null?l||(l=s0(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(s,o=c),a.on=r}}function d2(e,t,n){var r=(e+="")=="transform"?dw:i0;return t==null?this.styleTween(e,l2(e,r)).on("end.style."+e,s0(e)):typeof t=="function"?this.styleTween(e,u2(e,r,Yu(this,"style."+e,t))).each(c2(this._id,e)):this.styleTween(e,a2(e,r,t),n).on("end.style."+e,null)}function f2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function h2(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&f2(e,s,n)),r}return i._value=t,i}function p2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,h2(e,t,n??""))}function m2(e){return function(){this.textContent=e}}function g2(e){return function(){var t=e(this);this.textContent=t??""}}function y2(e){return this.tween("text",typeof e=="function"?g2(Yu(this,"text",e)):m2(e==null?"":e+""))}function x2(e){return function(t){this.textContent=e.call(this,t)}}function v2(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&x2(o)),t}return r._value=e,r}function w2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,v2(e))}function S2(){for(var e=this._name,t=this._id,n=l0(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=Nt(a,t);Ys(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Yt(r,this._parents,e,n)}function N2(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=Tt(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var k2=0;function Yt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function l0(){return++k2}var $t=qo.prototype;Yt.prototype={constructor:Yt,select:r2,selectAll:o2,selectChild:$t.selectChild,selectChildren:$t.selectChildren,filter:Gw,merge:Zw,selection:s2,transition:S2,call:$t.call,nodes:$t.nodes,node:$t.node,size:$t.size,empty:$t.empty,each:$t.each,on:e2,attr:$w,attrTween:Ow,style:d2,styleTween:p2,text:y2,textTween:w2,remove:n2,tween:jw,delay:Vw,duration:Ww,ease:Xw,easeVarying:Qw,end:N2,[Symbol.iterator]:$t[Symbol.iterator]};function E2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _2={time:null,delay:0,duration:250,ease:E2};function C2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function j2(e){var t,n;e instanceof Yt?(t=e._id,e=e._name):(t=l0(),(n=_2).time=Uu(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&Ys(a,e,t,u,s,n||C2(a,t));return new Yt(r,this._parents,e,t)}qo.prototype.interrupt=Ew;qo.prototype.transition=j2;const Ni=e=>()=>e;function b2(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ot(e,t,n){this.k=e,this.x=t,this.y=n}Ot.prototype={constructor:Ot,scale:function(e){return e===1?this:new Ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ht=new Ot(1,0,0);Ot.prototype;function Ml(e){e.stopImmediatePropagation()}function eo(e){e.preventDefault(),e.stopImmediatePropagation()}function M2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function T2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hd(){return this.__zoom||Ht}function z2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function P2(){return navigator.maxTouchPoints||"ontouchstart"in this}function I2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function a0(){var e=M2,t=T2,n=I2,r=z2,o=P2,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=gw,u=Bs("start","zoom","end"),c,f,h,g=500,v=150,x=0,N=10;function p(S){S.property("__zoom",Hd).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",I).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(S,$,M,D){var T=S.selection?S.selection():S;T.property("__zoom",Hd),S!==T?E(S,$,M,D):T.interrupt().each(function(){b(this,arguments).event(D).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},p.scaleBy=function(S,$,M,D){p.scaleTo(S,function(){var T=this.__zoom.k,k=typeof $=="function"?$.apply(this,arguments):$;return T*k},M,D)},p.scaleTo=function(S,$,M,D){p.transform(S,function(){var T=t.apply(this,arguments),k=this.__zoom,P=M==null?w(T):typeof M=="function"?M.apply(this,arguments):M,R=k.invert(P),O=typeof $=="function"?$.apply(this,arguments):$;return n(y(m(k,O),P,R),T,s)},M,D)},p.translateBy=function(S,$,M,D){p.transform(S,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),s)},null,D)},p.translateTo=function(S,$,M,D,T){p.transform(S,function(){var k=t.apply(this,arguments),P=this.__zoom,R=D==null?w(k):typeof D=="function"?D.apply(this,arguments):D;return n(Ht.translate(R[0],R[1]).scale(P.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof M=="function"?-M.apply(this,arguments):-M),k,s)},D,T)};function m(S,$){return $=Math.max(i[0],Math.min(i[1],$)),$===S.k?S:new Ot($,S.x,S.y)}function y(S,$,M){var D=$[0]-M[0]*S.k,T=$[1]-M[1]*S.k;return D===S.x&&T===S.y?S:new Ot(S.k,D,T)}function w(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function E(S,$,M,D){S.on("start.zoom",function(){b(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(D).end()}).tween("zoom",function(){var T=this,k=arguments,P=b(T,k).event(D),R=t.apply(T,k),O=M==null?w(R):typeof M=="function"?M.apply(T,k):M,U=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),B=T.__zoom,Y=typeof $=="function"?$.apply(T,k):$,Q=a(B.invert(O).concat(U/B.k),Y.invert(O).concat(U/Y.k));return function(G){if(G===1)G=Y;else{var ne=Q(G),te=U/ne[2];G=new Ot(te,O[0]-ne[0]*te,O[1]-ne[1]*te)}P.zoom(null,G)}})}function b(S,$,M){return!M&&S.__zooming||new z(S,$)}function z(S,$){this.that=S,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,$),this.taps=0}z.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,$){return this.mouse&&S!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var $=it(this.that).datum();u.call(S,this.that,new b2(S,{sourceEvent:this.sourceEvent,target:p,type:S,transform:this.that.__zoom,dispatch:u}),$)}};function _(S,...$){if(!e.apply(this,arguments))return;var M=b(this,$).event(S),D=this.__zoom,T=Math.max(i[0],Math.min(i[1],D.k*Math.pow(2,r.apply(this,arguments)))),k=gt(S);if(M.wheel)(M.mouse[0][0]!==k[0]||M.mouse[0][1]!==k[1])&&(M.mouse[1]=D.invert(M.mouse[0]=k)),clearTimeout(M.wheel);else{if(D.k===T)return;M.mouse=[k,D.invert(k)],Bi(this),M.start()}eo(S),M.wheel=setTimeout(P,v),M.zoom("mouse",n(y(m(D,T),M.mouse[0],M.mouse[1]),M.extent,s));function P(){M.wheel=null,M.end()}}function C(S,...$){if(h||!e.apply(this,arguments))return;var M=S.currentTarget,D=b(this,$,!0).event(S),T=it(S.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",U,!0),k=gt(S,M),P=S.clientX,R=S.clientY;Xp(S.view),Ml(S),D.mouse=[k,this.__zoom.invert(k)],Bi(this),D.start();function O(B){if(eo(B),!D.moved){var Y=B.clientX-P,Q=B.clientY-R;D.moved=Y*Y+Q*Q>x}D.event(B).zoom("mouse",n(y(D.that.__zoom,D.mouse[0]=gt(B,M),D.mouse[1]),D.extent,s))}function U(B){T.on("mousemove.zoom mouseup.zoom",null),Kp(B.view,D.moved),eo(B),D.event(B).end()}}function I(S,...$){if(e.apply(this,arguments)){var M=this.__zoom,D=gt(S.changedTouches?S.changedTouches[0]:S,this),T=M.invert(D),k=M.k*(S.shiftKey?.5:2),P=n(y(m(M,k),D,T),t.apply(this,$),s);eo(S),l>0?it(this).transition().duration(l).call(E,P,D,S):it(this).call(p.transform,P,D,S)}}function L(S,...$){if(e.apply(this,arguments)){var M=S.touches,D=M.length,T=b(this,$,S.changedTouches.length===D).event(S),k,P,R,O;for(Ml(S),P=0;P<D;++P)R=M[P],O=gt(R,this),O=[O,this.__zoom.invert(O),R.identifier],T.touch0?!T.touch1&&T.touch0[2]!==O[2]&&(T.touch1=O,T.taps=0):(T.touch0=O,k=!0,T.taps=1+!!c);c&&(c=clearTimeout(c)),k&&(T.taps<2&&(f=O[0],c=setTimeout(function(){c=null},g)),Bi(this),T.start())}}function V(S,...$){if(this.__zooming){var M=b(this,$).event(S),D=S.changedTouches,T=D.length,k,P,R,O;for(eo(S),k=0;k<T;++k)P=D[k],R=gt(P,this),M.touch0&&M.touch0[2]===P.identifier?M.touch0[0]=R:M.touch1&&M.touch1[2]===P.identifier&&(M.touch1[0]=R);if(P=M.that.__zoom,M.touch1){var U=M.touch0[0],B=M.touch0[1],Y=M.touch1[0],Q=M.touch1[1],G=(G=Y[0]-U[0])*G+(G=Y[1]-U[1])*G,ne=(ne=Q[0]-B[0])*ne+(ne=Q[1]-B[1])*ne;P=m(P,Math.sqrt(G/ne)),R=[(U[0]+Y[0])/2,(U[1]+Y[1])/2],O=[(B[0]+Q[0])/2,(B[1]+Q[1])/2]}else if(M.touch0)R=M.touch0[0],O=M.touch0[1];else return;M.zoom("touch",n(y(P,R,O),M.extent,s))}}function H(S,...$){if(this.__zooming){var M=b(this,$).event(S),D=S.changedTouches,T=D.length,k,P;for(Ml(S),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),k=0;k<T;++k)P=D[k],M.touch0&&M.touch0[2]===P.identifier?delete M.touch0:M.touch1&&M.touch1[2]===P.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(P=gt(P,this),Math.hypot(f[0]-P[0],f[1]-P[1])<N)){var R=it(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return p.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:Ni(+S),p):r},p.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Ni(!!S),p):e},p.touchable=function(S){return arguments.length?(o=typeof S=="function"?S:Ni(!!S),p):o},p.extent=function(S){return arguments.length?(t=typeof S=="function"?S:Ni([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),p):t},p.scaleExtent=function(S){return arguments.length?(i[0]=+S[0],i[1]=+S[1],p):[i[0],i[1]]},p.translateExtent=function(S){return arguments.length?(s[0][0]=+S[0][0],s[1][0]=+S[1][0],s[0][1]=+S[0][1],s[1][1]=+S[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(S){return arguments.length?(n=S,p):n},p.duration=function(S){return arguments.length?(l=+S,p):l},p.interpolate=function(S){return arguments.length?(a=S,p):a},p.on=function(){var S=u.on.apply(u,arguments);return S===u?p:S},p.clickDistance=function(S){return arguments.length?(x=(S=+S)*S,p):Math.sqrt(x)},p.tapDistance=function(S){return arguments.length?(N=+S,p):N},p}const Xs=j.createContext(null),$2=Xs.Provider,Xt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},u0=Xt.error001();function le(e,t){const n=j.useContext(Xs);if(n===null)throw new Error(u0);return $p(n,e,t)}const Ne=()=>{const e=j.useContext(Xs);if(e===null)throw new Error(u0);return j.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},A2=e=>e.userSelectionActive?"none":"all";function Xu({position:e,children:t,className:n,style:r,...o}){const i=le(A2),s=`${e}`.split("-");return A.createElement("div",{className:Te(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...o},t)}function R2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:A.createElement(Xu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},A.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const L2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const f=j.useRef(null),[h,g]=j.useState({x:0,y:0,width:0,height:0}),v=Te(["react-flow__edge-textwrapper",u]);return j.useEffect(()=>{if(f.current){const x=f.current.getBBox();g({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:A.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:v,visibility:h.width?"visible":"hidden",...c},o&&A.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),A.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),a)};var D2=j.memo(L2);const Ku=e=>({width:e.offsetWidth,height:e.offsetHeight}),Rr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Qu=(e={x:0,y:0},t)=>({x:Rr(e.x,t[0][0],t[1][0]),y:Rr(e.y,t[0][1],t[1][1])}),Vd=(e,t,n)=>e<t?Rr(Math.abs(e-t),1,50)/50:e>n?-Rr(Math.abs(e-n),1,50)/50:0,c0=(e,t)=>{const n=Vd(e.x,35,t.width-35)*20,r=Vd(e.y,35,t.height-35)*20;return[n,r]},d0=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},f0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Uo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),h0=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Bd=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),O2=(e,t)=>h0(f0(Uo(e),Uo(t))),Da=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},F2=e=>lt(e.width)&&lt(e.height)&&lt(e.x)&&lt(e.y),lt=e=>!isNaN(e)&&isFinite(e),me=Symbol.for("internals"),p0=["Enter"," ","Escape"],H2=(e,t)=>{},V2=e=>"nativeEvent"in e;function Oa(e){var o,i;const t=V2(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const m0=e=>"clientX"in e,mn=(e,t)=>{var i,s;const n=m0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},ks=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},ei=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:g=20})=>A.createElement(A.Fragment,null,A.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),g&&A.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),o&&lt(n)&&lt(r)?A.createElement(D2,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);ei.displayName="BaseEdge";function to(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,{...o})}}function g0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function y0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,c=Math.abs(a-e),f=Math.abs(u-t);return[a,u,c,f]}var Wn;(function(e){e.Strict="strict",e.Loose="loose"})(Wn||(Wn={}));var $n;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($n||($n={}));var Wo;(function(e){e.Partial="partial",e.Full="full"})(Wo||(Wo={}));var rn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(rn||(rn={}));var Es;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Es||(Es={}));var X;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(X||(X={}));function Ud({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===X.Left||e===X.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function x0({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:o,targetPosition:i=X.Top}){const[s,l]=Ud({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=Ud({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,f,h,g]=y0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,c,f,h,g]}const Gu=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=X.Bottom,targetPosition:i=X.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:x})=>{const[N,p,m]=x0({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return A.createElement(ei,{path:N,labelX:p,labelY:m,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:x})});Gu.displayName="SimpleBezierEdge";const Wd={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}},B2=({source:e,sourcePosition:t=X.Bottom,target:n})=>t===X.Left||t===X.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Yd=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function U2({source:e,sourcePosition:t=X.Bottom,target:n,targetPosition:r=X.Top,center:o,offset:i}){const s=Wd[t],l=Wd[r],a={x:e.x+s.x*i,y:e.y+s.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},c=B2({source:a,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",h=c[f];let g=[],v,x;const N={x:0,y:0},p={x:0,y:0},[m,y,w,E]=g0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*l[f]===-1){v=o.x??m,x=o.y??y;const z=[{x:v,y:a.y},{x:v,y:u.y}],_=[{x:a.x,y:x},{x:u.x,y:x}];s[f]===h?g=f==="x"?z:_:g=f==="x"?_:z}else{const z=[{x:a.x,y:u.y}],_=[{x:u.x,y:a.y}];if(f==="x"?g=s.x===h?_:z:g=s.y===h?z:_,t===r){const H=Math.abs(e[f]-n[f]);if(H<=i){const S=Math.min(i-1,i-H);s[f]===h?N[f]=(a[f]>e[f]?-1:1)*S:p[f]=(u[f]>n[f]?-1:1)*S}}if(t!==r){const H=f==="x"?"y":"x",S=s[f]===l[H],$=a[H]>u[H],M=a[H]<u[H];(s[f]===1&&(!S&&$||S&&M)||s[f]!==1&&(!S&&M||S&&$))&&(g=f==="x"?z:_)}const C={x:a.x+N.x,y:a.y+N.y},I={x:u.x+p.x,y:u.y+p.y},L=Math.max(Math.abs(C.x-g[0].x),Math.abs(I.x-g[0].x)),V=Math.max(Math.abs(C.y-g[0].y),Math.abs(I.y-g[0].y));L>=V?(v=(C.x+I.x)/2,x=g[0].y):(v=g[0].x,x=(C.y+I.y)/2)}return[[e,{x:a.x+N.x,y:a.y+N.y},...g,{x:u.x+p.x,y:u.y+p.y},n],v,x,w,E]}function W2(e,t,n,r){const o=Math.min(Yd(e,t)/2,Yd(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function Fa({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:o,targetPosition:i=X.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,f,h,g,v]=U2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u});return[c.reduce((N,p,m)=>{let y="";return m>0&&m<c.length-1?y=W2(c[m-1],p,c[m+1],s):y=`${m===0?"M":"L"}${p.x} ${p.y}`,N+=y,N},""),f,h,g,v]}const Ks=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:f=X.Bottom,targetPosition:h=X.Top,markerEnd:g,markerStart:v,pathOptions:x,interactionWidth:N})=>{const[p,m,y]=Fa({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return A.createElement(ei,{path:p,labelX:m,labelY:y,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:g,markerStart:v,interactionWidth:N})});Ks.displayName="SmoothStepEdge";const Zu=j.memo(e=>{var t;return A.createElement(Ks,{...e,pathOptions:j.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Zu.displayName="StepEdge";function Y2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=g0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const qu=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:g})=>{const[v,x,N]=Y2({sourceX:e,sourceY:t,targetX:n,targetY:r});return A.createElement(ei,{path:v,labelX:x,labelY:N,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:g})});qu.displayName="StraightEdge";function ki(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Xd({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case X.Left:return[t-ki(t-r,i),n];case X.Right:return[t+ki(r-t,i),n];case X.Top:return[t,n-ki(n-o,i)];case X.Bottom:return[t,n+ki(o-n,i)]}}function v0({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:o,targetPosition:i=X.Top,curvature:s=.25}){const[l,a]=Xd({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,c]=Xd({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[f,h,g,v]=y0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,f,h,g,v]}const _s=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=X.Bottom,targetPosition:i=X.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,pathOptions:x,interactionWidth:N})=>{const[p,m,y]=v0({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:x==null?void 0:x.curvature});return A.createElement(ei,{path:p,labelX:m,labelY:y,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:N})});_s.displayName="BezierEdge";const Ju=j.createContext(null),X2=Ju.Provider;Ju.Consumer;const K2=()=>j.useContext(Ju),Q2=e=>"id"in e&&"source"in e&&"target"in e,G2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Ha=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Z2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),w0=(e,t)=>{if(!e.source||!e.target)return t;let n;return Q2(e)?n={...e}:n={...e,id:G2(e)},Z2(n,t)?t:t.concat(n)},Va=({x:e,y:t},[n,r,o],i,[s,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return i?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},S0=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Dn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},Qs=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:s}=Dn(o,t).positionAbsolute;return f0(r,Uo({x:i,y:s,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return h0(n)},N0=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(c=>{const{width:f,height:h,selectable:g=!0,hidden:v=!1}=c;if(s&&!g||v)return!1;const{positionAbsolute:x}=Dn(c,l),N={x:x.x,y:x.y,width:f||0,height:h||0},p=Da(a,N),m=typeof f>"u"||typeof h>"u"||f===null||h===null,y=i&&p>0,w=(f||0)*(h||0);(m||y||p>=w||c.dragging)&&u.push(c)}),u},k0=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},E0=(e,t,n,r,o,i=.1)=>{const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),a=Math.min(s,l),u=Rr(a,r,o),c=e.x+e.width/2,f=e.y+e.height/2,h=t/2-c*u,g=n/2-f*u;return{x:h,y:g,zoom:u}},Mn=(e,t=0)=>e.transition().duration(t);function Kd(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var s,l;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),o},[])}function q2(e,t,n,r,o,i){const{x:s,y:l}=mn(e),u=t.elementsFromPoint(s,l).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const x=ec(void 0,u),N=u.getAttribute("data-handleid"),p=i({nodeId:v,id:N,type:x});if(p){const m=o.find(y=>y.nodeId===v&&y.type===x&&y.id===N);return{handle:{id:N,type:x,nodeId:v,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:p}}}}let c=[],f=1/0;if(o.forEach(v=>{const x=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(x<=r){const N=i(v);x<=f&&(x<f?c=[{handle:v,validHandleResult:N}]:x===f&&c.push({handle:v,validHandleResult:N}),f=x)}}),!c.length)return{handle:null,validHandleResult:_0()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:v})=>v.isValid),g=c.some(({handle:v})=>v.type==="target");return c.find(({handle:v,validHandleResult:x})=>g?v.type==="target":h?x.isValid:!0)||c[0]}const J2={source:null,target:null,sourceHandle:null,targetHandle:null},_0=()=>({handleDomNode:null,isValid:!1,connection:J2,endHandle:null});function C0(e,t,n,r,o,i,s){const l=o==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={..._0(),handleDomNode:a};if(a){const c=ec(void 0,a),f=a.getAttribute("data-nodeid"),h=a.getAttribute("data-handleid"),g=a.classList.contains("connectable"),v=a.classList.contains("connectableend"),x={source:l?f:n,sourceHandle:l?h:r,target:l?n:f,targetHandle:l?r:h};u.connection=x,g&&v&&(t===Wn.Strict?l&&c==="source"||!l&&c==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:c},u.isValid=i(x))}return u}function eS({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[me]){const{handleBounds:s}=i[me];let l=[],a=[];s&&(l=Kd(i,s,"source",`${t}-${n}-${r}`),a=Kd(i,s,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function ec(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Tl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function tS(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function j0({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=d0(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:g,connectionRadius:v,onConnectStart:x,panBy:N,getNodes:p,cancelConnection:m}=i();let y=0,w;const{x:E,y:b}=mn(e),z=c==null?void 0:c.elementFromPoint(E,b),_=ec(a,z),C=h==null?void 0:h.getBoundingClientRect();if(!C||!_)return;let I,L=mn(e,C),V=!1,H=null,S=!1,$=null;const M=eS({nodes:p(),nodeId:n,handleId:t,handleType:_}),D=()=>{if(!g)return;const[P,R]=c0(L,C);N({x:P,y:R}),y=requestAnimationFrame(D)};s({connectionPosition:L,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:_});function T(P){const{transform:R}=i();L=mn(P,C);const{handle:O,validHandleResult:U}=q2(P,c,Va(L,R,!1,[1,1]),v,M,B=>C0(B,f,n,t,o?"target":"source",l,c));if(w=O,V||(D(),V=!0),$=U.handleDomNode,H=U.connection,S=U.isValid,s({connectionPosition:w&&S?S0({x:w.x,y:w.y},R):L,connectionStatus:tS(!!w,S),connectionEndHandle:U.endHandle}),!w&&!S&&!$)return Tl(I);H.source!==H.target&&$&&(Tl(I),I=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",S),$.classList.toggle("react-flow__handle-valid",S))}function k(P){var R,O;(w||$)&&H&&S&&(r==null||r(H)),(O=(R=i()).onConnectEnd)==null||O.call(R,P),a&&(u==null||u(P)),Tl(I),m(),cancelAnimationFrame(y),V=!1,S=!1,H=null,$=null,c.removeEventListener("mousemove",T),c.removeEventListener("mouseup",k),c.removeEventListener("touchmove",T),c.removeEventListener("touchend",k)}c.addEventListener("mousemove",T),c.addEventListener("mouseup",k),c.addEventListener("touchmove",T),c.addEventListener("touchend",k)}const Qd=()=>!0,nS=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),rS=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},b0=j.forwardRef(({type:e="source",position:t=X.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:f,...h},g)=>{var C,I;const v=s||null,x=e==="target",N=Ne(),p=K2(),{connectOnClick:m,noPanClassName:y}=le(nS,_e),{connecting:w,clickConnecting:E}=le(rS(p,v,e),_e);p||(I=(C=N.getState()).onError)==null||I.call(C,"010",Xt.error010());const b=L=>{const{defaultEdgeOptions:V,onConnect:H,hasDefaultEdges:S}=N.getState(),$={...V,...L};if(S){const{edges:M,setEdges:D}=N.getState();D(w0($,M))}H==null||H($),l==null||l($)},z=L=>{if(!p)return;const V=m0(L);o&&(V&&L.button===0||!V)&&j0({event:L,handleId:v,nodeId:p,onConnect:b,isTarget:x,getState:N.getState,setState:N.setState,isValidConnection:n||N.getState().isValidConnection||Qd}),V?c==null||c(L):f==null||f(L)},_=L=>{const{onClickConnectStart:V,onClickConnectEnd:H,connectionClickStartHandle:S,connectionMode:$,isValidConnection:M}=N.getState();if(!p||!S&&!o)return;if(!S){V==null||V(L,{nodeId:p,handleId:v,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:v}});return}const D=d0(L.target),T=n||M||Qd,{connection:k,isValid:P}=C0({nodeId:p,id:v,type:e},$,S.nodeId,S.handleId||null,S.type,T,D);P&&b(k),H==null||H(L),N.setState({connectionClickStartHandle:null})};return A.createElement("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${v}-${e}`,className:Te(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!x,target:x,connectable:r,connectablestart:o,connectableend:i,connecting:E,connectionindicator:r&&(o&&!w||i&&w)}]),onMouseDown:z,onTouchStart:z,onClick:m?_:void 0,ref:g,...h},a)});b0.displayName="Handle";var Lr=j.memo(b0);const M0=({data:e,isConnectable:t,targetPosition:n=X.Top,sourcePosition:r=X.Bottom})=>A.createElement(A.Fragment,null,A.createElement(Lr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,A.createElement(Lr,{type:"source",position:r,isConnectable:t}));M0.displayName="DefaultNode";var Ba=j.memo(M0);const T0=({data:e,isConnectable:t,sourcePosition:n=X.Bottom})=>A.createElement(A.Fragment,null,e==null?void 0:e.label,A.createElement(Lr,{type:"source",position:n,isConnectable:t}));T0.displayName="InputNode";var z0=j.memo(T0);const P0=({data:e,isConnectable:t,targetPosition:n=X.Top})=>A.createElement(A.Fragment,null,A.createElement(Lr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);P0.displayName="OutputNode";var I0=j.memo(P0);const tc=()=>null;tc.displayName="GroupNode";const oS=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ei=e=>e.id;function iS(e,t){return _e(e.selectedNodes.map(Ei),t.selectedNodes.map(Ei))&&_e(e.selectedEdges.map(Ei),t.selectedEdges.map(Ei))}const $0=j.memo(({onSelectionChange:e})=>{const t=Ne(),{selectedNodes:n,selectedEdges:r}=le(oS,iS);return j.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});$0.displayName="SelectionListener";const sS=e=>!!e.onSelectionChange;function lS({onSelectionChange:e}){const t=le(sS);return e||t?A.createElement($0,{onSelectionChange:e}):null}const aS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function er(e,t){j.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Z(e,t,n){j.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const uS=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:x,maxZoom:N,nodeExtent:p,onNodesChange:m,onEdgesChange:y,elementsSelectable:w,connectionMode:E,snapGrid:b,snapToGrid:z,translateExtent:_,connectOnClick:C,defaultEdgeOptions:I,fitView:L,fitViewOptions:V,onNodesDelete:H,onEdgesDelete:S,onNodeDrag:$,onNodeDragStart:M,onNodeDragStop:D,onSelectionDrag:T,onSelectionDragStart:k,onSelectionDragStop:P,noPanClassName:R,nodeOrigin:O,rfId:U,autoPanOnConnect:B,autoPanOnNodeDrag:Y,onError:Q,connectionRadius:G,isValidConnection:ne,nodeDragThreshold:te})=>{const{setNodes:ee,setEdges:Ce,setDefaultNodesAndEdges:ve,setMinZoom:Le,setMaxZoom:ze,setTranslateExtent:ge,setNodeExtent:Qe,reset:oe}=le(aS,_e),K=Ne();return j.useEffect(()=>{const De=r==null?void 0:r.map(zt=>({...zt,...I}));return ve(n,De),()=>{oe()}},[]),Z("defaultEdgeOptions",I,K.setState),Z("connectionMode",E,K.setState),Z("onConnect",o,K.setState),Z("onConnectStart",i,K.setState),Z("onConnectEnd",s,K.setState),Z("onClickConnectStart",l,K.setState),Z("onClickConnectEnd",a,K.setState),Z("nodesDraggable",u,K.setState),Z("nodesConnectable",c,K.setState),Z("nodesFocusable",f,K.setState),Z("edgesFocusable",h,K.setState),Z("edgesUpdatable",g,K.setState),Z("elementsSelectable",w,K.setState),Z("elevateNodesOnSelect",v,K.setState),Z("snapToGrid",z,K.setState),Z("snapGrid",b,K.setState),Z("onNodesChange",m,K.setState),Z("onEdgesChange",y,K.setState),Z("connectOnClick",C,K.setState),Z("fitViewOnInit",L,K.setState),Z("fitViewOnInitOptions",V,K.setState),Z("onNodesDelete",H,K.setState),Z("onEdgesDelete",S,K.setState),Z("onNodeDrag",$,K.setState),Z("onNodeDragStart",M,K.setState),Z("onNodeDragStop",D,K.setState),Z("onSelectionDrag",T,K.setState),Z("onSelectionDragStart",k,K.setState),Z("onSelectionDragStop",P,K.setState),Z("noPanClassName",R,K.setState),Z("nodeOrigin",O,K.setState),Z("rfId",U,K.setState),Z("autoPanOnConnect",B,K.setState),Z("autoPanOnNodeDrag",Y,K.setState),Z("onError",Q,K.setState),Z("connectionRadius",G,K.setState),Z("isValidConnection",ne,K.setState),Z("nodeDragThreshold",te,K.setState),er(e,ee),er(t,Ce),er(x,Le),er(N,ze),er(_,ge),er(p,Qe),null},Gd={display:"none"},cS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},A0="react-flow__node-desc",R0="react-flow__edge-desc",dS="react-flow__aria-live",fS=e=>e.ariaLiveMessage;function hS({rfId:e}){const t=le(fS);return A.createElement("div",{id:`${dS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:cS},t)}function pS({rfId:e,disableKeyboardA11y:t}){return A.createElement(A.Fragment,null,A.createElement("div",{id:`${A0}-${e}`,style:Gd},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),A.createElement("div",{id:`${R0}-${e}`,style:Gd},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&A.createElement(hS,{rfId:e}))}var Yo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=j.useState(!1),o=j.useRef(!1),i=j.useRef(new Set([])),[s,l]=j.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,h)=>f.concat(...h),[]);return[u,c]}return[[],[]]},[e]);return j.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=g=>{if(o.current=g.ctrlKey||g.metaKey||g.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Oa(g))return!1;const x=qd(g.code,l);i.current.add(g[x]),Zd(s,i.current,!1)&&(g.preventDefault(),r(!0))},f=g=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Oa(g))return!1;const x=qd(g.code,l);Zd(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[x]),g.key==="Meta"&&i.current.clear(),o.current=!1},h=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Zd(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function qd(e,t){return t.includes(e)?"code":"key"}function L0(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),s=Dn(i,r);return L0(i,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=i[me])==null?void 0:l.z)??0)>(n.z??0)?((a=i[me])==null?void 0:a.z)??0:n.z??0},r)}function D0(e,t,n){e.forEach(r=>{var i;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:s,y:l,z:a}=L0(r,e,{...r.position,z:((i=r[me])==null?void 0:i.z)??0},t);r.positionAbsolute={x:s,y:l},r[me].z=a,n!=null&&n[r.id]&&(r[me].isParent=!0)}})}function zl(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach(l=>{var g;const a=(lt(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,me,{enumerable:!1,value:{handleBounds:h||(g=u==null?void 0:u[me])==null?void 0:g.handleBounds,z:a}}),o.set(l.id,c)}),D0(o,n,i),o}function O0(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),h=t.initial&&!u&&c;if(l&&a&&(h||!t.initial)){const v=n().filter(N=>{var m;const p=t.includeHiddenNodes?N.width&&N.height:!N.hidden;return(m=t.nodes)!=null&&m.length?p&&t.nodes.some(y=>y.id===N.id):p}),x=v.every(N=>N.width&&N.height);if(v.length>0&&x){const N=Qs(v,f),{x:p,y:m,zoom:y}=E0(N,r,o,t.minZoom??i,t.maxZoom??s,t.padding??.1),w=Ht.translate(p,m).scale(y);return typeof t.duration=="number"&&t.duration>0?l.transform(Mn(a,t.duration),w):l.transform(a,w),!0}}return!1}function mS(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[me]:r[me],selected:n.selected})}),new Map(t)}function gS(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function _i({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:mS(e,o)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:gS(t,i)}),l==null||l(t))}const tr=()=>{},yS={zoomIn:tr,zoomOut:tr,zoomTo:tr,getZoom:()=>1,setViewport:tr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:tr,fitBounds:tr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},xS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),vS=()=>{const e=Ne(),{d3Zoom:t,d3Selection:n}=le(xS,_e);return j.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Mn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Mn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(Mn(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[s,l,a]=e.getState().transform,u=Ht.translate(o.x??s,o.y??l).scale(o.zoom??a);t.transform(Mn(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[o,i,s]=e.getState().transform;return{x:o,y:i,zoom:s}},fitView:o=>O0(e.getState,o),setCenter:(o,i,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=l/2-o*c,h=a/2-i*c,g=Ht.translate(f,h).scale(c);t.transform(Mn(n,s==null?void 0:s.duration),g)},fitBounds:(o,i)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:f,zoom:h}=E0(o,s,l,a,u,(i==null?void 0:i.padding)??.1),g=Ht.translate(c,f).scale(h);t.transform(Mn(n,i==null?void 0:i.duration),g)},project:o=>{const{transform:i,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Va(o,i,s,l)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:c}=a.getBoundingClientRect(),f={x:o.x-u,y:o.y-c};return Va(f,i,s,l)},flowToScreenPosition:o=>{const{transform:i,domNode:s}=e.getState();if(!s)return o;const{x:l,y:a}=s.getBoundingClientRect(),u=S0(o,i);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:yS,[t,n])};function nc(){const e=vS(),t=Ne(),n=j.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=j.useCallback(x=>t.getState().nodeInternals.get(x),[]),o=j.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(N=>({...N}))},[]),i=j.useCallback(x=>{const{edges:N=[]}=t.getState();return N.find(p=>p.id===x)},[]),s=j.useCallback(x=>{const{getNodes:N,setNodes:p,hasDefaultNodes:m,onNodesChange:y}=t.getState(),w=N(),E=typeof x=="function"?x(w):x;if(m)p(E);else if(y){const b=E.length===0?w.map(z=>({type:"remove",id:z.id})):E.map(z=>({item:z,type:"reset"}));y(b)}},[]),l=j.useCallback(x=>{const{edges:N=[],setEdges:p,hasDefaultEdges:m,onEdgesChange:y}=t.getState(),w=typeof x=="function"?x(N):x;if(m)p(w);else if(y){const E=w.length===0?N.map(b=>({type:"remove",id:b.id})):w.map(b=>({item:b,type:"reset"}));y(E)}},[]),a=j.useCallback(x=>{const N=Array.isArray(x)?x:[x],{getNodes:p,setNodes:m,hasDefaultNodes:y,onNodesChange:w}=t.getState();if(y){const b=[...p(),...N];m(b)}else if(w){const E=N.map(b=>({item:b,type:"add"}));w(E)}},[]),u=j.useCallback(x=>{const N=Array.isArray(x)?x:[x],{edges:p=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:w}=t.getState();if(y)m([...p,...N]);else if(w){const E=N.map(b=>({item:b,type:"add"}));w(E)}},[]),c=j.useCallback(()=>{const{getNodes:x,edges:N=[],transform:p}=t.getState(),[m,y,w]=p;return{nodes:x().map(E=>({...E})),edges:N.map(E=>({...E})),viewport:{x:m,y,zoom:w}}},[]),f=j.useCallback(({nodes:x,edges:N})=>{const{nodeInternals:p,getNodes:m,edges:y,hasDefaultNodes:w,hasDefaultEdges:E,onNodesDelete:b,onEdgesDelete:z,onNodesChange:_,onEdgesChange:C}=t.getState(),I=(x||[]).map($=>$.id),L=(N||[]).map($=>$.id),V=m().reduce(($,M)=>{const D=M.parentNode||M.parentId,T=!I.includes(M.id)&&D&&$.find(P=>P.id===D);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(I.includes(M.id)||T)&&$.push(M),$},[]),H=y.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),S=H.filter($=>L.includes($.id));if(V||S){const $=k0(V,H),M=[...S,...$],D=M.reduce((T,k)=>(T.includes(k.id)||T.push(k.id),T),[]);if((E||w)&&(E&&t.setState({edges:y.filter(T=>!D.includes(T.id))}),w&&(V.forEach(T=>{p.delete(T.id)}),t.setState({nodeInternals:new Map(p)}))),D.length>0&&(z==null||z(M),C&&C(D.map(T=>({id:T,type:"remove"})))),V.length>0&&(b==null||b(V),_)){const T=V.map(k=>({id:k.id,type:"remove"}));_(T)}}},[]),h=j.useCallback(x=>{const N=F2(x),p=N?null:t.getState().nodeInternals.get(x.id);return!N&&!p?[null,null,N]:[N?x:Bd(p),p,N]},[]),g=j.useCallback((x,N=!0,p)=>{const[m,y,w]=h(x);return m?(p||t.getState().getNodes()).filter(E=>{if(!w&&(E.id===y.id||!E.positionAbsolute))return!1;const b=Bd(E),z=Da(b,m);return N&&z>0||z>=m.width*m.height}):[]},[]),v=j.useCallback((x,N,p=!0)=>{const[m]=h(x);if(!m)return!1;const y=Da(m,N);return p&&y>0||y>=m.width*m.height},[]);return j.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:v}),[e,n,r,o,i,s,l,a,u,c,f,g,v])}const wS={actInsideInputWithModifier:!1};var SS=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ne(),{deleteElements:r}=nc(),o=Yo(e,wS),i=Yo(t);j.useEffect(()=>{if(o){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),j.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function NS(e){const t=Ne();j.useEffect(()=>{let n;const r=()=>{var i,s;if(!e.current)return;const o=Ku(e.current);(o.height===0||o.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",Xt.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const rc={position:"absolute",width:"100%",height:"100%",top:0,left:0},kS=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ci=e=>({x:e.x,y:e.y,zoom:e.k}),nr=(e,t)=>e.target.closest(`.${t}`),Jd=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),ef=e=>{const t=e.ctrlKey&&ks()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},ES=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),_S=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=$n.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:h,translateExtent:g,minZoom:v,maxZoom:x,zoomActivationKeyCode:N,preventScrolling:p=!0,children:m,noWheelClassName:y,noPanClassName:w})=>{const E=j.useRef(),b=Ne(),z=j.useRef(!1),_=j.useRef(!1),C=j.useRef(null),I=j.useRef({x:0,y:0,zoom:0}),{d3Zoom:L,d3Selection:V,d3ZoomHandler:H,userSelectionActive:S}=le(ES,_e),$=Yo(N),M=j.useRef(0),D=j.useRef(!1),T=j.useRef();return NS(C),j.useEffect(()=>{if(C.current){const k=C.current.getBoundingClientRect(),P=a0().scaleExtent([v,x]).translateExtent(g),R=it(C.current).call(P),O=Ht.translate(h.x,h.y).scale(Rr(h.zoom,v,x)),U=[[0,0],[k.width,k.height]],B=P.constrain()(O,U,g);P.transform(R,B),P.wheelDelta(ef),b.setState({d3Zoom:P,d3Selection:R,d3ZoomHandler:R.on("wheel.zoom"),transform:[B.x,B.y,B.k],domNode:C.current.closest(".react-flow")})}},[]),j.useEffect(()=>{V&&L&&(s&&!$&&!S?V.on("wheel.zoom",k=>{if(nr(k,y))return!1;k.preventDefault(),k.stopImmediatePropagation();const P=V.property("__zoom").k||1;if(k.ctrlKey&&i){const ne=gt(k),te=ef(k),ee=P*Math.pow(2,te);L.scaleTo(V,ee,ne,k);return}const R=k.deltaMode===1?20:1;let O=a===$n.Vertical?0:k.deltaX*R,U=a===$n.Horizontal?0:k.deltaY*R;!ks()&&k.shiftKey&&a!==$n.Vertical&&(O=k.deltaY*R,U=0),L.translateBy(V,-(O/P)*l,-(U/P)*l,{internal:!0});const B=Ci(V.property("__zoom")),{onViewportChangeStart:Y,onViewportChange:Q,onViewportChangeEnd:G}=b.getState();clearTimeout(T.current),D.current||(D.current=!0,t==null||t(k,B),Y==null||Y(B)),D.current&&(e==null||e(k,B),Q==null||Q(B),T.current=setTimeout(()=>{n==null||n(k,B),G==null||G(B),D.current=!1},150))},{passive:!1}):typeof H<"u"&&V.on("wheel.zoom",function(k,P){if(!p&&k.type==="wheel"&&!k.ctrlKey||nr(k,y))return null;k.preventDefault(),H.call(this,k,P)},{passive:!1}))},[S,s,a,V,L,H,$,i,p,y,t,e,n]),j.useEffect(()=>{L&&L.on("start",k=>{var O,U;if(!k.sourceEvent||k.sourceEvent.internal)return null;M.current=(O=k.sourceEvent)==null?void 0:O.button;const{onViewportChangeStart:P}=b.getState(),R=Ci(k.transform);z.current=!0,I.current=R,((U=k.sourceEvent)==null?void 0:U.type)==="mousedown"&&b.setState({paneDragging:!0}),P==null||P(R),t==null||t(k.sourceEvent,R)})},[L,t]),j.useEffect(()=>{L&&(S&&!z.current?L.on("zoom",null):S||L.on("zoom",k=>{var R;const{onViewportChange:P}=b.getState();if(b.setState({transform:[k.transform.x,k.transform.y,k.transform.k]}),_.current=!!(r&&Jd(f,M.current??0)),(e||P)&&!((R=k.sourceEvent)!=null&&R.internal)){const O=Ci(k.transform);P==null||P(O),e==null||e(k.sourceEvent,O)}}))},[S,L,e,f,r]),j.useEffect(()=>{L&&L.on("end",k=>{if(!k.sourceEvent||k.sourceEvent.internal)return null;const{onViewportChangeEnd:P}=b.getState();if(z.current=!1,b.setState({paneDragging:!1}),r&&Jd(f,M.current??0)&&!_.current&&r(k.sourceEvent),_.current=!1,(n||P)&&kS(I.current,k.transform)){const R=Ci(k.transform);I.current=R,clearTimeout(E.current),E.current=setTimeout(()=>{P==null||P(R),n==null||n(k.sourceEvent,R)},s?150:0)}})},[L,s,f,n,r]),j.useEffect(()=>{L&&L.filter(k=>{const P=$||o,R=i&&k.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&k.button===1&&k.type==="mousedown"&&(nr(k,"react-flow__node")||nr(k,"react-flow__edge")))return!0;if(!f&&!P&&!s&&!u&&!i||S||!u&&k.type==="dblclick"||nr(k,y)&&k.type==="wheel"||nr(k,w)&&(k.type!=="wheel"||s&&k.type==="wheel"&&!$)||!i&&k.ctrlKey&&k.type==="wheel"||!P&&!s&&!R&&k.type==="wheel"||!f&&(k.type==="mousedown"||k.type==="touchstart")||Array.isArray(f)&&!f.includes(k.button)&&k.type==="mousedown")return!1;const O=Array.isArray(f)&&f.includes(k.button)||!k.button||k.button<=1;return(!k.ctrlKey||k.type==="wheel")&&O})},[S,L,o,i,s,u,f,c,$]),A.createElement("div",{className:"react-flow__renderer",ref:C,style:rc},m)},CS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function jS(){const{userSelectionActive:e,userSelectionRect:t}=le(CS,_e);return e&&t?A.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function tf(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(o>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),i>0&&(r.style.height+=i),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function F0(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(l=>l.id===o.id);if(i.length===0)return r.push(o),r;const s={...o};for(const l of i)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&tf(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&tf(r,s);break}case"remove":return r}return r.push(s),r},n)}function H0(e,t){return F0(e,t)}function bS(e,t){return F0(e,t)}const en=(e,t)=>({id:e,type:"select",selected:t});function gr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(en(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(en(r.id,!1))),n},[])}const Pl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},MS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),V0=j.memo(({isSelecting:e,selectionMode:t=Wo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const h=j.useRef(null),g=Ne(),v=j.useRef(0),x=j.useRef(0),N=j.useRef(),{userSelectionActive:p,elementsSelectable:m,dragging:y}=le(MS,_e),w=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,x.current=0},E=H=>{i==null||i(H),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},b=H=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){H.preventDefault();return}s==null||s(H)},z=l?H=>l(H):void 0,_=H=>{const{resetSelectedElements:S,domNode:$}=g.getState();if(N.current=$==null?void 0:$.getBoundingClientRect(),!m||!e||H.button!==0||H.target!==h.current||!N.current)return;const{x:M,y:D}=mn(H,N.current);S(),g.setState({userSelectionRect:{width:0,height:0,startX:M,startY:D,x:M,y:D}}),r==null||r(H)},C=H=>{const{userSelectionRect:S,nodeInternals:$,edges:M,transform:D,onNodesChange:T,onEdgesChange:k,nodeOrigin:P,getNodes:R}=g.getState();if(!e||!N.current||!S)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const O=mn(H,N.current),U=S.startX??0,B=S.startY??0,Y={...S,x:O.x<U?O.x:U,y:O.y<B?O.y:B,width:Math.abs(O.x-U),height:Math.abs(O.y-B)},Q=R(),G=N0($,Y,D,t===Wo.Partial,!0,P),ne=k0(G,M).map(ee=>ee.id),te=G.map(ee=>ee.id);if(v.current!==te.length){v.current=te.length;const ee=gr(Q,te);ee.length&&(T==null||T(ee))}if(x.current!==ne.length){x.current=ne.length;const ee=gr(M,ne);ee.length&&(k==null||k(ee))}g.setState({userSelectionRect:Y})},I=H=>{if(H.button!==0)return;const{userSelectionRect:S}=g.getState();!p&&S&&H.target===h.current&&(E==null||E(H)),g.setState({nodesSelectionActive:v.current>0}),w(),o==null||o(H)},L=H=>{p&&(g.setState({nodesSelectionActive:v.current>0}),o==null||o(H)),w()},V=m&&(e||p);return A.createElement("div",{className:Te(["react-flow__pane",{dragging:y,selection:e}]),onClick:V?void 0:Pl(E,h),onContextMenu:Pl(b,h),onWheel:Pl(z,h),onMouseEnter:V?void 0:a,onMouseDown:V?_:void 0,onMouseMove:V?C:u,onMouseUp:V?I:void 0,onMouseLeave:V?L:c,ref:h,style:rc},f,A.createElement(jS,null))});V0.displayName="Pane";function B0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:B0(r,t):!1}function nf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function TS(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!B0(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var i,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=o.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((s=o.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function zS(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function U0(e,t,n,r,o=[0,0],i){const s=zS(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const f=n.get(a),{x:h,y:g}=Dn(f,o).positionAbsolute;l=f&&lt(h)&&lt(g)&&lt(f.width)&&lt(f.height)?[[h+e.width*o[0],g+e.height*o[1]],[h+f.width-e.width+e.width*o[0],g+f.height-e.height+e.height*o[1]]]:l}else i==null||i("005",Xt.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const f=n.get(a),{x:h,y:g}=Dn(f,o).positionAbsolute;l=[[e.extent[0][0]+h,e.extent[0][1]+g],[e.extent[1][0]+h,e.extent[1][1]+g]]}let u={x:0,y:0};if(a){const f=n.get(a);u=Dn(f,o).positionAbsolute}const c=l&&l!=="parent"?Qu(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Il({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const rf=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...Ku(a)}})};function no(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function Ua({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",Xt.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function PS(){const e=Ne();return j.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:i?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function $l(e){return(t,n,r)=>e==null?void 0:e(t,r)}function W0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:s}){const l=Ne(),[a,u]=j.useState(!1),c=j.useRef([]),f=j.useRef({x:null,y:null}),h=j.useRef(0),g=j.useRef(null),v=j.useRef({x:0,y:0}),x=j.useRef(null),N=j.useRef(!1),p=j.useRef(!1),m=j.useRef(!1),y=PS();return j.useEffect(()=>{if(e!=null&&e.current){const w=it(e.current),E=({x:_,y:C})=>{const{nodeInternals:I,onNodeDrag:L,onSelectionDrag:V,updateNodePositions:H,nodeExtent:S,snapGrid:$,snapToGrid:M,nodeOrigin:D,onError:T}=l.getState();f.current={x:_,y:C};let k=!1,P={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&S){const O=Qs(c.current,D);P=Uo(O)}if(c.current=c.current.map(O=>{const U={x:_-O.distance.x,y:C-O.distance.y};M&&(U.x=$[0]*Math.round(U.x/$[0]),U.y=$[1]*Math.round(U.y/$[1]));const B=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];c.current.length>1&&S&&!O.extent&&(B[0][0]=O.positionAbsolute.x-P.x+S[0][0],B[1][0]=O.positionAbsolute.x+(O.width??0)-P.x2+S[1][0],B[0][1]=O.positionAbsolute.y-P.y+S[0][1],B[1][1]=O.positionAbsolute.y+(O.height??0)-P.y2+S[1][1]);const Y=U0(O,U,I,B,D,T);return k=k||O.position.x!==Y.position.x||O.position.y!==Y.position.y,O.position=Y.position,O.positionAbsolute=Y.positionAbsolute,O}),!k)return;H(c.current,!0,!0),u(!0);const R=o?L:$l(V);if(R&&x.current){const[O,U]=Il({nodeId:o,dragItems:c.current,nodeInternals:I});R(x.current,O,U)}},b=()=>{if(!g.current)return;const[_,C]=c0(v.current,g.current);if(_!==0||C!==0){const{transform:I,panBy:L}=l.getState();f.current.x=(f.current.x??0)-_/I[2],f.current.y=(f.current.y??0)-C/I[2],L({x:_,y:C})&&E(f.current)}h.current=requestAnimationFrame(b)},z=_=>{var D;const{nodeInternals:C,multiSelectionActive:I,nodesDraggable:L,unselectNodesAndEdges:V,onNodeDragStart:H,onSelectionDragStart:S}=l.getState();p.current=!0;const $=o?H:$l(S);(!s||!i)&&!I&&o&&((D=C.get(o))!=null&&D.selected||V()),o&&i&&s&&Ua({id:o,store:l,nodeRef:e});const M=y(_);if(f.current=M,c.current=TS(C,L,M,o),$&&c.current){const[T,k]=Il({nodeId:o,dragItems:c.current,nodeInternals:C});$(_.sourceEvent,T,k)}};if(t)w.on(".drag",null);else{const _=U1().on("start",C=>{const{domNode:I,nodeDragThreshold:L}=l.getState();L===0&&z(C),m.current=!1;const V=y(C);f.current=V,g.current=(I==null?void 0:I.getBoundingClientRect())||null,v.current=mn(C.sourceEvent,g.current)}).on("drag",C=>{var H,S;const I=y(C),{autoPanOnNodeDrag:L,nodeDragThreshold:V}=l.getState();if(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!N.current&&p.current&&L&&(N.current=!0,b()),!p.current){const $=I.xSnapped-(((H=f==null?void 0:f.current)==null?void 0:H.x)??0),M=I.ySnapped-(((S=f==null?void 0:f.current)==null?void 0:S.y)??0);Math.sqrt($*$+M*M)>V&&z(C)}(f.current.x!==I.xSnapped||f.current.y!==I.ySnapped)&&c.current&&p.current&&(x.current=C.sourceEvent,v.current=mn(C.sourceEvent,g.current),E(I))}}).on("end",C=>{if(!(!p.current||m.current)&&(u(!1),N.current=!1,p.current=!1,cancelAnimationFrame(h.current),c.current)){const{updateNodePositions:I,nodeInternals:L,onNodeDragStop:V,onSelectionDragStop:H}=l.getState(),S=o?V:$l(H);if(I(c.current,!1,!1),S){const[$,M]=Il({nodeId:o,dragItems:c.current,nodeInternals:L});S(C.sourceEvent,$,M)}}}).filter(C=>{const I=C.target;return!C.button&&(!n||!nf(I,`.${n}`,e))&&(!r||nf(I,r,e))});return w.call(_),()=>{w.on(".drag",null)}}}},[e,t,n,r,i,l,o,s,y]),a}function Y0(){const e=Ne();return j.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(m=>m.selected&&(m.draggable||c&&typeof m.draggable>"u")),h=l?a[0]:5,g=l?a[1]:5,v=n.isShiftPressed?4:1,x=n.x*h*v,N=n.y*g*v,p=f.map(m=>{if(m.positionAbsolute){const y={x:m.positionAbsolute.x+x,y:m.positionAbsolute.y+N};l&&(y.x=a[0]*Math.round(y.x/a[0]),y.y=a[1]*Math.round(y.y/a[1]));const{positionAbsolute:w,position:E}=U0(m,y,r,o,void 0,u);m.position=E,m.positionAbsolute=w}return m});i(p,!0,!1)},[])}const _r={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ro=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:g,onContextMenu:v,onDoubleClick:x,style:N,className:p,isDraggable:m,isSelectable:y,isConnectable:w,isFocusable:E,selectNodesOnDrag:b,sourcePosition:z,targetPosition:_,hidden:C,resizeObserver:I,dragHandle:L,zIndex:V,isParent:H,noDragClassName:S,noPanClassName:$,initialized:M,disableKeyboardA11y:D,ariaLabel:T,rfId:k,hasHandleBounds:P})=>{const R=Ne(),O=j.useRef(null),U=j.useRef(null),B=j.useRef(z),Y=j.useRef(_),Q=j.useRef(r),G=y||m||c||f||h||g,ne=Y0(),te=no(n,R.getState,f),ee=no(n,R.getState,h),Ce=no(n,R.getState,g),ve=no(n,R.getState,v),Le=no(n,R.getState,x),ze=oe=>{const{nodeDragThreshold:K}=R.getState();if(y&&(!b||!m||K>0)&&Ua({id:n,store:R,nodeRef:O}),c){const De=R.getState().nodeInternals.get(n);De&&c(oe,{...De})}},ge=oe=>{if(!Oa(oe)&&!D)if(p0.includes(oe.key)&&y){const K=oe.key==="Escape";Ua({id:n,store:R,unselect:K,nodeRef:O})}else m&&u&&Object.prototype.hasOwnProperty.call(_r,oe.key)&&(R.setState({ariaLiveMessage:`Moved selected node ${oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),ne({x:_r[oe.key].x,y:_r[oe.key].y,isShiftPressed:oe.shiftKey}))};j.useEffect(()=>()=>{U.current&&(I==null||I.unobserve(U.current),U.current=null)},[]),j.useEffect(()=>{if(O.current&&!C){const oe=O.current;(!M||!P||U.current!==oe)&&(U.current&&(I==null||I.unobserve(U.current)),I==null||I.observe(oe),U.current=oe)}},[C,M,P]),j.useEffect(()=>{const oe=Q.current!==r,K=B.current!==z,De=Y.current!==_;O.current&&(oe||K||De)&&(oe&&(Q.current=r),K&&(B.current=z),De&&(Y.current=_),R.getState().updateNodeDimensions([{id:n,nodeElement:O.current,forceUpdate:!0}]))},[n,r,z,_]);const Qe=W0({nodeRef:O,disabled:C||!m,noDragClassName:S,handleSelector:L,nodeId:n,isSelectable:y,selectNodesOnDrag:b});return C?null:A.createElement("div",{className:Te(["react-flow__node",`react-flow__node-${r}`,{[$]:m},p,{selected:u,selectable:y,parent:H,dragging:Qe}]),ref:O,style:{zIndex:V,transform:`translate(${l}px,${a}px)`,pointerEvents:G?"all":"none",visibility:M?"visible":"hidden",...N},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:te,onMouseMove:ee,onMouseLeave:Ce,onContextMenu:ve,onClick:ze,onDoubleClick:Le,onKeyDown:E?ge:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":D?void 0:`${A0}-${k}`,"aria-label":T},A.createElement(X2,{value:n},A.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:s,selected:u,isConnectable:w,sourcePosition:z,targetPosition:_,dragging:Qe,dragHandle:L,zIndex:V})))};return t.displayName="NodeWrapper",j.memo(t)};const IS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Qs(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function $S({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ne(),{width:o,height:i,x:s,y:l,transformString:a,userSelectionActive:u}=le(IS,_e),c=Y0(),f=j.useRef(null);if(j.useEffect(()=>{var v;n||(v=f.current)==null||v.focus({preventScroll:!0})},[n]),W0({nodeRef:f}),u||!o||!i)return null;const h=e?v=>{const x=r.getState().getNodes().filter(N=>N.selected);e(v,x)}:void 0,g=v=>{Object.prototype.hasOwnProperty.call(_r,v.key)&&c({x:_r[v.key].x,y:_r[v.key].y,isShiftPressed:v.shiftKey})};return A.createElement("div",{className:Te(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},A.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:o,height:i,top:l,left:s}}))}var AS=j.memo($S);const RS=e=>e.nodesSelectionActive,X0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:h,selectionMode:g,onSelectionStart:v,onSelectionEnd:x,multiSelectionKeyCode:N,panActivationKeyCode:p,zoomActivationKeyCode:m,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:b,panOnScrollSpeed:z,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:I,defaultViewport:L,translateExtent:V,minZoom:H,maxZoom:S,preventScrolling:$,onSelectionContextMenu:M,noWheelClassName:D,noPanClassName:T,disableKeyboardA11y:k})=>{const P=le(RS),R=Yo(f),O=Yo(p),U=O||I,B=O||b,Y=R||h&&U!==!0;return SS({deleteKeyCode:l,multiSelectionKeyCode:N}),A.createElement(_S,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:B,panOnScrollSpeed:z,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:!R&&U,defaultViewport:L,translateExtent:V,minZoom:H,maxZoom:S,zoomActivationKeyCode:m,preventScrolling:$,noWheelClassName:D,noPanClassName:T},A.createElement(V0,{onSelectionStart:v,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:U,isSelecting:!!Y,selectionMode:g},e,P&&A.createElement(AS,{onSelectionContextMenu:M,noPanClassName:T,disableKeyboardA11y:k})))};X0.displayName="FlowRenderer";var LS=j.memo(X0);function DS(e){return le(j.useCallback(n=>e?N0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function OS(e){const t={input:ro(e.input||z0),default:ro(e.default||Ba),output:ro(e.output||I0),group:ro(e.group||tc)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=ro(e[i]||Ba),o),n);return{...t,...r}}const FS=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},HS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),K0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:s}=le(HS,_e),l=DS(e.onlyRenderVisibleElements),a=j.useRef(),u=j.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const h=f.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));i(h)});return a.current=c,c},[]);return j.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),A.createElement("div",{className:"react-flow__nodes",style:rc},l.map(c=>{var E,b,z;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",Xt.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,g=!!(c.draggable||t&&typeof c.draggable>"u"),v=!!(c.selectable||o&&typeof c.selectable>"u"),x=!!(c.connectable||n&&typeof c.connectable>"u"),N=!!(c.focusable||r&&typeof c.focusable>"u"),p=e.nodeExtent?Qu(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,m=(p==null?void 0:p.x)??0,y=(p==null?void 0:p.y)??0,w=FS({x:m,y,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return A.createElement(h,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||X.Bottom,targetPosition:c.targetPosition||X.Top,hidden:c.hidden,xPos:m,yPos:y,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:g,isSelectable:v,isConnectable:x,isFocusable:N,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((E=c[me])==null?void 0:E.z)??0,isParent:!!((b=c[me])!=null&&b.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((z=c[me])!=null&&z.handleBounds)})}))};K0.displayName="NodeRenderer";var VS=j.memo(K0);const BS=(e,t,n)=>n===X.Left?e-t:n===X.Right?e+t:e,US=(e,t,n)=>n===X.Top?e-t:n===X.Bottom?e+t:e,of="react-flow__edgeupdater",sf=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l})=>A.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Te([of,`${of}-${l}`]),cx:BS(t,r,e),cy:US(n,r,e),r,stroke:"transparent",fill:"transparent"}),WS=()=>!0;var rr=e=>{const t=({id:n,className:r,type:o,data:i,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:x,style:N,source:p,target:m,sourceX:y,sourceY:w,targetX:E,targetY:b,sourcePosition:z,targetPosition:_,elementsSelectable:C,hidden:I,sourceHandleId:L,targetHandleId:V,onContextMenu:H,onMouseEnter:S,onMouseMove:$,onMouseLeave:M,reconnectRadius:D,onReconnect:T,onReconnectStart:k,onReconnectEnd:P,markerEnd:R,markerStart:O,rfId:U,ariaLabel:B,isFocusable:Y,isReconnectable:Q,pathOptions:G,interactionWidth:ne,disableKeyboardA11y:te})=>{const ee=j.useRef(null),[Ce,ve]=j.useState(!1),[Le,ze]=j.useState(!1),ge=Ne(),Qe=j.useMemo(()=>`url('#${Ha(O,U)}')`,[O,U]),oe=j.useMemo(()=>`url('#${Ha(R,U)}')`,[R,U]);if(I)return null;const K=Pe=>{var kt;const{edges:ft,addSelectedEdges:kn,unselectNodesAndEdges:En,multiSelectionActive:_n}=ge.getState(),It=ft.find(Br=>Br.id===n);It&&(C&&(ge.setState({nodesSelectionActive:!1}),It.selected&&_n?(En({nodes:[],edges:[It]}),(kt=ee.current)==null||kt.blur()):kn([n])),s&&s(Pe,It))},De=to(n,ge.getState,l),zt=to(n,ge.getState,H),Hr=to(n,ge.getState,S),Kn=to(n,ge.getState,$),Qn=to(n,ge.getState,M),Pt=(Pe,ft)=>{if(Pe.button!==0)return;const{edges:kn,isValidConnection:En}=ge.getState(),_n=ft?m:p,It=(ft?V:L)||null,kt=ft?"target":"source",Br=En||WS,Gs=ft,Ur=kn.find(Cn=>Cn.id===n);ze(!0),k==null||k(Pe,Ur,kt);const Zs=Cn=>{ze(!1),P==null||P(Cn,Ur,kt)};j0({event:Pe,handleId:It,nodeId:_n,onConnect:Cn=>T==null?void 0:T(Ur,Cn),isTarget:Gs,getState:ge.getState,setState:ge.setState,isValidConnection:Br,edgeUpdaterType:kt,onReconnectEnd:Zs})},Gn=Pe=>Pt(Pe,!0),Sn=Pe=>Pt(Pe,!1),Nn=()=>ve(!0),Zn=()=>ve(!1),qn=!C&&!s,Vr=Pe=>{var ft;if(!te&&p0.includes(Pe.key)&&C){const{unselectNodesAndEdges:kn,addSelectedEdges:En,edges:_n}=ge.getState();Pe.key==="Escape"?((ft=ee.current)==null||ft.blur(),kn({edges:[_n.find(kt=>kt.id===n)]})):En([n])}};return A.createElement("g",{className:Te(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:qn,updating:Ce}]),onClick:K,onDoubleClick:De,onContextMenu:zt,onMouseEnter:Hr,onMouseMove:Kn,onMouseLeave:Qn,onKeyDown:Y?Vr:void 0,tabIndex:Y?0:void 0,role:Y?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":B===null?void 0:B||`Edge from ${p} to ${m}`,"aria-describedby":Y?`${R0}-${U}`:void 0,ref:ee},!Le&&A.createElement(e,{id:n,source:p,target:m,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:x,data:i,style:N,sourceX:y,sourceY:w,targetX:E,targetY:b,sourcePosition:z,targetPosition:_,sourceHandleId:L,targetHandleId:V,markerStart:Qe,markerEnd:oe,pathOptions:G,interactionWidth:ne}),Q&&A.createElement(A.Fragment,null,(Q==="source"||Q===!0)&&A.createElement(sf,{position:z,centerX:y,centerY:w,radius:D,onMouseDown:Gn,onMouseEnter:Nn,onMouseOut:Zn,type:"source"}),(Q==="target"||Q===!0)&&A.createElement(sf,{position:_,centerX:E,centerY:b,radius:D,onMouseDown:Sn,onMouseEnter:Nn,onMouseOut:Zn,type:"target"})))};return t.displayName="EdgeWrapper",j.memo(t)};function YS(e){const t={default:rr(e.default||_s),straight:rr(e.bezier||qu),step:rr(e.step||Zu),smoothstep:rr(e.step||Ks),simplebezier:rr(e.simplebezier||Gu)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=rr(e[i]||_s),o),n);return{...t,...r}}function lf(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case X.Top:return{x:r+i/2,y:o};case X.Right:return{x:r+i,y:o+s/2};case X.Bottom:return{x:r+i/2,y:o+s};case X.Left:return{x:r,y:o+s/2}}}function af(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const XS=(e,t,n,r,o,i)=>{const s=lf(n,e,t),l=lf(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function KS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Uo({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*h)>0}function uf(e){var r,o,i,s,l;const t=((r=e==null?void 0:e[me])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const QS=[{level:0,isMaxLevel:!0,edges:[]}];function GS(e,t,n=!1){let r=-1;const o=e.reduce((s,l)=>{var c,f;const a=lt(l.zIndex);let u=a?l.zIndex:0;if(n){const h=t.get(l.target),g=t.get(l.source),v=l.selected||(h==null?void 0:h.selected)||(g==null?void 0:g.selected),x=Math.max(((c=g==null?void 0:g[me])==null?void 0:c.z)||0,((f=h==null?void 0:h[me])==null?void 0:f.z)||0,1e3);u=(a?l.zIndex:0)+(v?x:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),i=Object.entries(o).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return i.length===0?QS:i}function ZS(e,t,n){const r=le(j.useCallback(o=>e?o.edges.filter(i=>{const s=t.get(i.source),l=t.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&KS({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return GS(r,t,n)}const qS=({color:e="none",strokeWidth:t=1})=>A.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),JS=({color:e="none",strokeWidth:t=1})=>A.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),cf={[Es.Arrow]:qS,[Es.ArrowClosed]:JS};function eN(e){const t=Ne();return j.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(cf,e)?cf[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Xt.error009(e)),null)},[e])}const tN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=eN(t);return a?A.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},A.createElement(a,{color:n,strokeWidth:s})):null},nN=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=Ha(s,t);r.includes(l)||(o.push({id:l,color:s.color||e,...s}),r.push(l))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},Q0=({defaultColor:e,rfId:t})=>{const n=le(j.useCallback(nN({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,s)=>i.id!==o[s].id)));return A.createElement("defs",null,n.map(r=>A.createElement(tN,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Q0.displayName="MarkerDefinitions";var rN=j.memo(Q0);const oN=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),G0=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:x,children:N,disableKeyboardA11y:p})=>{const{edgesFocusable:m,edgesUpdatable:y,elementsSelectable:w,width:E,height:b,connectionMode:z,nodeInternals:_,onError:C}=le(oN,_e),I=ZS(t,_,n);return E?A.createElement(A.Fragment,null,I.map(({level:L,edges:V,isMaxLevel:H})=>A.createElement("svg",{key:L,style:{zIndex:L},width:E,height:b,className:"react-flow__edges react-flow__container"},H&&A.createElement(rN,{defaultColor:e,rfId:r}),A.createElement("g",null,V.map(S=>{const[$,M,D]=uf(_.get(S.source)),[T,k,P]=uf(_.get(S.target));if(!D||!P)return null;let R=S.type||"default";o[R]||(C==null||C("011",Xt.error011(R)),R="default");const O=o[R]||o.default,U=z===Wn.Strict?k.target:(k.target??[]).concat(k.source??[]),B=af(M.source,S.sourceHandle),Y=af(U,S.targetHandle),Q=(B==null?void 0:B.position)||X.Bottom,G=(Y==null?void 0:Y.position)||X.Top,ne=!!(S.focusable||m&&typeof S.focusable>"u"),te=S.reconnectable||S.updatable,ee=typeof h<"u"&&(te||y&&typeof te>"u");if(!B||!Y)return C==null||C("008",Xt.error008(B,S)),null;const{sourceX:Ce,sourceY:ve,targetX:Le,targetY:ze}=XS($,B,Q,T,Y,G);return A.createElement(O,{key:S.id,id:S.id,className:Te([S.className,i]),type:R,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:Ce,sourceY:ve,targetX:Le,targetY:ze,sourcePosition:Q,targetPosition:G,elementsSelectable:w,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:x,rfId:r,ariaLabel:S.ariaLabel,isFocusable:ne,isReconnectable:ee,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:p})})))),N):null};G0.displayName="EdgeRenderer";var iN=j.memo(G0);const sN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function lN({children:e}){const t=le(sN);return A.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function aN(e){const t=nc(),n=j.useRef(!1);j.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const uN={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top},Z0=({nodeId:e,handleType:t,style:n,type:r=rn.Bezier,CustomComponent:o,connectionStatus:i})=>{var b,z,_;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=le(j.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),_e),f=(b=s==null?void 0:s[me])==null?void 0:b.handleBounds;let h=f==null?void 0:f[t];if(c===Wn.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!h)return null;const g=l?h.find(C=>C.id===l):h[0],v=g?g.x+g.width/2:(s.width??0)/2,x=g?g.y+g.height/2:s.height??0,N=(((z=s.positionAbsolute)==null?void 0:z.x)??0)+v,p=(((_=s.positionAbsolute)==null?void 0:_.y)??0)+x,m=g==null?void 0:g.position,y=m?uN[m]:null;if(!m||!y)return null;if(o)return A.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:g,fromX:N,fromY:p,toX:a,toY:u,fromPosition:m,toPosition:y,connectionStatus:i});let w="";const E={sourceX:N,sourceY:p,sourcePosition:m,targetX:a,targetY:u,targetPosition:y};return r===rn.Bezier?[w]=v0(E):r===rn.Step?[w]=Fa({...E,borderRadius:0}):r===rn.SmoothStep?[w]=Fa(E):r===rn.SimpleBezier?[w]=x0(E):w=`M${N},${p} ${a},${u}`,A.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};Z0.displayName="ConnectionLine";const cN=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function dN({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:s,width:l,height:a,connectionStatus:u}=le(cN,_e);return!(o&&i&&l&&s)?null:A.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},A.createElement("g",{className:Te(["react-flow__connection",u])},A.createElement(Z0,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function df(e,t){return j.useRef(null),Ne(),j.useMemo(()=>t(e),[e])}const q0=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:g,onSelectionContextMenu:v,onSelectionStart:x,onSelectionEnd:N,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:y,connectionLineContainerStyle:w,selectionKeyCode:E,selectionOnDrag:b,selectionMode:z,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:I,deleteKeyCode:L,onlyRenderVisibleElements:V,elementsSelectable:H,selectNodesOnDrag:S,defaultViewport:$,translateExtent:M,minZoom:D,maxZoom:T,preventScrolling:k,defaultMarkerColor:P,zoomOnScroll:R,zoomOnPinch:O,panOnScroll:U,panOnScrollSpeed:B,panOnScrollMode:Y,zoomOnDoubleClick:Q,panOnDrag:G,onPaneClick:ne,onPaneMouseEnter:te,onPaneMouseMove:ee,onPaneMouseLeave:Ce,onPaneScroll:ve,onPaneContextMenu:Le,onEdgeContextMenu:ze,onEdgeMouseEnter:ge,onEdgeMouseMove:Qe,onEdgeMouseLeave:oe,onReconnect:K,onReconnectStart:De,onReconnectEnd:zt,reconnectRadius:Hr,noDragClassName:Kn,noWheelClassName:Qn,noPanClassName:Pt,elevateEdgesOnSelect:Gn,disableKeyboardA11y:Sn,nodeOrigin:Nn,nodeExtent:Zn,rfId:qn})=>{const Vr=df(e,OS),Pe=df(t,YS);return aN(i),A.createElement(LS,{onPaneClick:ne,onPaneMouseEnter:te,onPaneMouseMove:ee,onPaneMouseLeave:Ce,onPaneContextMenu:Le,onPaneScroll:ve,deleteKeyCode:L,selectionKeyCode:E,selectionOnDrag:b,selectionMode:z,onSelectionStart:x,onSelectionEnd:N,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:I,elementsSelectable:H,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:R,zoomOnPinch:O,zoomOnDoubleClick:Q,panOnScroll:U,panOnScrollSpeed:B,panOnScrollMode:Y,panOnDrag:G,defaultViewport:$,translateExtent:M,minZoom:D,maxZoom:T,onSelectionContextMenu:v,preventScrolling:k,noDragClassName:Kn,noWheelClassName:Qn,noPanClassName:Pt,disableKeyboardA11y:Sn},A.createElement(lN,null,A.createElement(iN,{edgeTypes:Pe,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:V,onEdgeContextMenu:ze,onEdgeMouseEnter:ge,onEdgeMouseMove:Qe,onEdgeMouseLeave:oe,onReconnect:K,onReconnectStart:De,onReconnectEnd:zt,reconnectRadius:Hr,defaultMarkerColor:P,noPanClassName:Pt,elevateEdgesOnSelect:!!Gn,disableKeyboardA11y:Sn,rfId:qn},A.createElement(dN,{style:m,type:p,component:y,containerStyle:w})),A.createElement("div",{className:"react-flow__edgelabel-renderer"}),A.createElement(VS,{nodeTypes:Vr,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:g,selectNodesOnDrag:S,onlyRenderVisibleElements:V,noPanClassName:Pt,noDragClassName:Kn,disableKeyboardA11y:Sn,nodeOrigin:Nn,nodeExtent:Zn,rfId:qn})))};q0.displayName="GraphView";var fN=j.memo(q0);const Wa=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Gt={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Wa,nodeExtent:Wa,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Wn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:H2,isValidConnection:void 0},hN=()=>nv((e,t)=>({...Gt,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:zl(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",i=typeof r<"u",s=o?zl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(f.transform),g=n.reduce((x,N)=>{const p=o.get(N.id);if(p!=null&&p.hidden)o.set(p.id,{...p,[me]:{...p[me],handleBounds:void 0}});else if(p){const m=Ku(N.nodeElement);!!(m.width&&m.height&&(p.width!==m.width||p.height!==m.height||N.forceUpdate))&&(o.set(p.id,{...p,[me]:{...p[me],handleBounds:{source:rf(".source",N.nodeElement,h,u),target:rf(".target",N.nodeElement,h,u)}},...m}),x.push({id:p.id,type:"dimensions",dimensions:m}))}return x},[]);D0(o,u);const v=s||i&&!s&&O0(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:v}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(i){const u=H0(n,l()),c=zl(u,o,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>en(a,!0)):(s=gr(i(),n),l=gr(o,[])),_i({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>en(a,!0)):(s=gr(o,n),l=gr(i(),[])),_i({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),s=n||i(),l=r||o,a=s.map(c=>(c.selected=!1,en(c.id,!1))),u=l.map(c=>en(c.id,!1));_i({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>en(l.id,!1)),s=n.filter(l=>l.selected).map(l=>en(l.id,!1));_i({changedNodes:i,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=Qu(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=Ht.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,i]],f=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Gt.connectionNodeId,connectionHandleId:Gt.connectionHandleId,connectionHandleType:Gt.connectionHandleType,connectionStatus:Gt.connectionStatus,connectionStartHandle:Gt.connectionStartHandle,connectionEndHandle:Gt.connectionEndHandle}),reset:()=>e({...Gt})}),Object.is),J0=({children:e})=>{const t=j.useRef(null);return t.current||(t.current=hN()),A.createElement($2,{value:t.current},e)};J0.displayName="ReactFlowProvider";const em=({children:e})=>j.useContext(Xs)?A.createElement(A.Fragment,null,e):A.createElement(J0,null,e);em.displayName="ReactFlowWrapper";const pN={input:z0,default:Ba,output:I0,group:tc},mN={default:_s,straight:qu,step:Zu,smoothstep:Ks,simplebezier:Gu},gN=[0,0],yN=[15,15],xN={x:0,y:0,zoom:1},vN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},tm=j.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=pN,edgeTypes:s=mN,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:N,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:b,onNodeDragStart:z,onNodeDrag:_,onNodeDragStop:C,onNodesDelete:I,onEdgesDelete:L,onSelectionChange:V,onSelectionDragStart:H,onSelectionDrag:S,onSelectionDragStop:$,onSelectionContextMenu:M,onSelectionStart:D,onSelectionEnd:T,connectionMode:k=Wn.Strict,connectionLineType:P=rn.Bezier,connectionLineStyle:R,connectionLineComponent:O,connectionLineContainerStyle:U,deleteKeyCode:B="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:Q=!1,selectionMode:G=Wo.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:te=ks()?"Meta":"Control",zoomActivationKeyCode:ee=ks()?"Meta":"Control",snapToGrid:Ce=!1,snapGrid:ve=yN,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:ze=!0,nodesDraggable:ge,nodesConnectable:Qe,nodesFocusable:oe,nodeOrigin:K=gN,edgesFocusable:De,edgesUpdatable:zt,elementsSelectable:Hr,defaultViewport:Kn=xN,minZoom:Qn=.5,maxZoom:Pt=2,translateExtent:Gn=Wa,preventScrolling:Sn=!0,nodeExtent:Nn,defaultMarkerColor:Zn="#b1b1b7",zoomOnScroll:qn=!0,zoomOnPinch:Vr=!0,panOnScroll:Pe=!1,panOnScrollSpeed:ft=.5,panOnScrollMode:kn=$n.Free,zoomOnDoubleClick:En=!0,panOnDrag:_n=!0,onPaneClick:It,onPaneMouseEnter:kt,onPaneMouseMove:Br,onPaneMouseLeave:Gs,onPaneScroll:Ur,onPaneContextMenu:Zs,children:ic,onEdgeContextMenu:Cn,onEdgeDoubleClick:am,onEdgeMouseEnter:um,onEdgeMouseMove:cm,onEdgeMouseLeave:dm,onEdgeUpdate:fm,onEdgeUpdateStart:hm,onEdgeUpdateEnd:pm,onReconnect:mm,onReconnectStart:gm,onReconnectEnd:ym,reconnectRadius:xm=10,edgeUpdaterRadius:vm=10,onNodesChange:wm,onEdgesChange:Sm,noDragClassName:Nm="nodrag",noWheelClassName:km="nowheel",noPanClassName:sc="nopan",fitView:Em=!1,fitViewOptions:_m,connectOnClick:Cm=!0,attributionPosition:jm,proOptions:bm,defaultEdgeOptions:Mm,elevateNodesOnSelect:Tm=!0,elevateEdgesOnSelect:zm=!1,disableKeyboardA11y:lc=!1,autoPanOnConnect:Pm=!0,autoPanOnNodeDrag:Im=!0,connectionRadius:$m=20,isValidConnection:Am,onError:Rm,style:Lm,id:ac,nodeDragThreshold:Dm,...Om},Fm)=>{const qs=ac||"1";return A.createElement("div",{...Om,style:{...Lm,...vN},ref:Fm,className:Te(["react-flow",o]),"data-testid":"rf__wrapper",id:ac},A.createElement(em,null,A.createElement(fN,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:b,nodeTypes:i,edgeTypes:s,connectionLineType:P,connectionLineStyle:R,connectionLineComponent:O,connectionLineContainerStyle:U,selectionKeyCode:Y,selectionOnDrag:Q,selectionMode:G,deleteKeyCode:B,multiSelectionKeyCode:te,panActivationKeyCode:ne,zoomActivationKeyCode:ee,onlyRenderVisibleElements:Le,selectNodesOnDrag:ze,defaultViewport:Kn,translateExtent:Gn,minZoom:Qn,maxZoom:Pt,preventScrolling:Sn,zoomOnScroll:qn,zoomOnPinch:Vr,zoomOnDoubleClick:En,panOnScroll:Pe,panOnScrollSpeed:ft,panOnScrollMode:kn,panOnDrag:_n,onPaneClick:It,onPaneMouseEnter:kt,onPaneMouseMove:Br,onPaneMouseLeave:Gs,onPaneScroll:Ur,onPaneContextMenu:Zs,onSelectionContextMenu:M,onSelectionStart:D,onSelectionEnd:T,onEdgeContextMenu:Cn,onEdgeDoubleClick:am,onEdgeMouseEnter:um,onEdgeMouseMove:cm,onEdgeMouseLeave:dm,onReconnect:mm??fm,onReconnectStart:gm??hm,onReconnectEnd:ym??pm,reconnectRadius:xm??vm,defaultMarkerColor:Zn,noDragClassName:Nm,noWheelClassName:km,noPanClassName:sc,elevateEdgesOnSelect:zm,rfId:qs,disableKeyboardA11y:lc,nodeOrigin:K,nodeExtent:Nn}),A.createElement(uS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:N,onClickConnectEnd:p,nodesDraggable:ge,nodesConnectable:Qe,nodesFocusable:oe,edgesFocusable:De,edgesUpdatable:zt,elementsSelectable:Hr,elevateNodesOnSelect:Tm,minZoom:Qn,maxZoom:Pt,nodeExtent:Nn,onNodesChange:wm,onEdgesChange:Sm,snapToGrid:Ce,snapGrid:ve,connectionMode:k,translateExtent:Gn,connectOnClick:Cm,defaultEdgeOptions:Mm,fitView:Em,fitViewOptions:_m,onNodesDelete:I,onEdgesDelete:L,onNodeDragStart:z,onNodeDrag:_,onNodeDragStop:C,onSelectionDrag:S,onSelectionDragStart:H,onSelectionDragStop:$,noPanClassName:sc,nodeOrigin:K,rfId:qs,autoPanOnConnect:Pm,autoPanOnNodeDrag:Im,onError:Rm,connectionRadius:$m,isValidConnection:Am,nodeDragThreshold:Dm}),A.createElement(lS,{onSelectionChange:V}),ic,A.createElement(R2,{proOptions:bm,position:jm}),A.createElement(pS,{rfId:qs,disableKeyboardA11y:lc})))});tm.displayName="ReactFlow";function nm(e){return t=>{const[n,r]=j.useState(t),o=j.useCallback(i=>r(s=>e(i,s)),[]);return[n,r,o]}}const wN=nm(H0),SN=nm(bS),rm=({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:f,onClick:h,selected:g})=>{const{background:v,backgroundColor:x}=i||{},N=s||v||x;return A.createElement("rect",{className:Te(["react-flow__minimap-node",{selected:g},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:N,stroke:l,strokeWidth:a,shapeRendering:f,onClick:h?p=>h(p,e):void 0})};rm.displayName="MiniMapNode";var NN=j.memo(rm);const kN=e=>e.nodeOrigin,EN=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Al=e=>e instanceof Function?e:()=>e;function _N({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:i=NN,onClick:s}){const l=le(EN,_e),a=le(kN),u=Al(t),c=Al(e),f=Al(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return A.createElement(A.Fragment,null,l.map(g=>{const{x:v,y:x}=Dn(g,a).positionAbsolute;return A.createElement(i,{key:g.id,x:v,y:x,width:g.width,height:g.height,style:g.style,selected:g.selected,className:f(g),color:u(g),borderRadius:r,strokeColor:c(g),strokeWidth:o,shapeRendering:h,onClick:s,id:g.id})}))}var CN=j.memo(_N);const jN=200,bN=150,MN=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?O2(Qs(t,e.nodeOrigin),n):n,rfId:e.rfId}},TN="react-flow__minimap-desc";function om({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:h,onNodeClick:g,pannable:v=!1,zoomable:x=!1,ariaLabel:N="React Flow mini map",inversePan:p=!1,zoomStep:m=10,offsetScale:y=5}){const w=Ne(),E=j.useRef(null),{boundingRect:b,viewBB:z,rfId:_}=le(MN,_e),C=(e==null?void 0:e.width)??jN,I=(e==null?void 0:e.height)??bN,L=b.width/C,V=b.height/I,H=Math.max(L,V),S=H*C,$=H*I,M=y*H,D=b.x-(S-b.width)/2-M,T=b.y-($-b.height)/2-M,k=S+M*2,P=$+M*2,R=`${TN}-${_}`,O=j.useRef(0);O.current=H,j.useEffect(()=>{if(E.current){const Y=it(E.current),Q=te=>{const{transform:ee,d3Selection:Ce,d3Zoom:ve}=w.getState();if(te.sourceEvent.type!=="wheel"||!Ce||!ve)return;const Le=-te.sourceEvent.deltaY*(te.sourceEvent.deltaMode===1?.05:te.sourceEvent.deltaMode?1:.002)*m,ze=ee[2]*Math.pow(2,Le);ve.scaleTo(Ce,ze)},G=te=>{const{transform:ee,d3Selection:Ce,d3Zoom:ve,translateExtent:Le,width:ze,height:ge}=w.getState();if(te.sourceEvent.type!=="mousemove"||!Ce||!ve)return;const Qe=O.current*Math.max(1,ee[2])*(p?-1:1),oe={x:ee[0]-te.sourceEvent.movementX*Qe,y:ee[1]-te.sourceEvent.movementY*Qe},K=[[0,0],[ze,ge]],De=Ht.translate(oe.x,oe.y).scale(ee[2]),zt=ve.constrain()(De,K,Le);ve.transform(Ce,zt)},ne=a0().on("zoom",v?G:null).on("zoom.wheel",x?Q:null);return Y.call(ne),()=>{Y.on("zoom",null)}}},[v,x,p,m]);const U=h?Y=>{const Q=gt(Y);h(Y,{x:Q[0],y:Q[1]})}:void 0,B=g?(Y,Q)=>{const G=w.getState().nodeInternals.get(Q);g(Y,G)}:void 0;return A.createElement(Xu,{position:f,style:e,className:Te(["react-flow__minimap",t]),"data-testid":"rf__minimap"},A.createElement("svg",{width:C,height:I,viewBox:`${D} ${T} ${k} ${P}`,role:"img","aria-labelledby":R,ref:E,onClick:U},N&&A.createElement("title",{id:R},N),A.createElement(CN,{onClick:B,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),A.createElement("path",{className:"react-flow__minimap-mask",d:`M${D-M},${T-M}h${k+M*2}v${P+M*2}h${-k-M*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}om.displayName="MiniMap";var zN=j.memo(om);function PN(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},A.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function IN(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},A.createElement("path",{d:"M0 0h32v4.2H0z"}))}function $N(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},A.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function AN(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},A.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function RN(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},A.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const co=({children:e,className:t,...n})=>A.createElement("button",{type:"button",className:Te(["react-flow__controls-button",t]),...n},e);co.displayName="ControlButton";const LN=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),im=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:c,position:f="bottom-left"})=>{const h=Ne(),[g,v]=j.useState(!1),{isInteractive:x,minZoomReached:N,maxZoomReached:p}=le(LN,_e),{zoomIn:m,zoomOut:y,fitView:w}=nc();if(j.useEffect(()=>{v(!0)},[]),!g)return null;const E=()=>{m(),i==null||i()},b=()=>{y(),s==null||s()},z=()=>{w(o),l==null||l()},_=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),a==null||a(!x)};return A.createElement(Xu,{className:Te(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&A.createElement(A.Fragment,null,A.createElement(co,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},A.createElement(PN,null)),A.createElement(co,{onClick:b,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N},A.createElement(IN,null))),n&&A.createElement(co,{className:"react-flow__controls-fitview",onClick:z,title:"fit view","aria-label":"fit view"},A.createElement($N,null)),r&&A.createElement(co,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},x?A.createElement(RN,null):A.createElement(AN,null)),c)};im.displayName="Controls";var DN=j.memo(im),ut;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ut||(ut={}));function ON({color:e,dimensions:t,lineWidth:n}){return A.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function FN({color:e,radius:t}){return A.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const HN={[ut.Dots]:"#91919a",[ut.Lines]:"#eee",[ut.Cross]:"#e2e2e2"},VN={[ut.Dots]:1,[ut.Lines]:1,[ut.Cross]:6},BN=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function sm({id:e,variant:t=ut.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:s,style:l,className:a}){const u=j.useRef(null),{transform:c,patternId:f}=le(BN,_e),h=s||HN[t],g=r||VN[t],v=t===ut.Dots,x=t===ut.Cross,N=Array.isArray(n)?n:[n,n],p=[N[0]*c[2]||1,N[1]*c[2]||1],m=g*c[2],y=x?[m,m]:p,w=v?[m/i,m/i]:[y[0]/i,y[1]/i];return A.createElement("svg",{className:Te(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},A.createElement("pattern",{id:f+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},v?A.createElement(FN,{color:h,radius:m/i}):A.createElement(ON,{dimensions:y,color:h,lineWidth:o})),A.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}sm.displayName="Background";var UN=j.memo(sm);const WN=({data:e})=>{const{node:t,issues:n,isStartNode:r,onEdit:o,onClick:i}=e,l=(()=>{const u=n.length>0;return n.some(f=>f.type==="orphaned"||f.type==="broken_connection")?{borderColor:"#ef4444",backgroundColor:"#fef2f2",textColor:"#dc2626"}:u?{borderColor:"#f59e0b",backgroundColor:"#fffbeb",textColor:"#d97706"}:r?{borderColor:"#10b981",backgroundColor:"#f0fdf4",textColor:"#059669"}:{borderColor:"#6b7280",backgroundColor:"#f9fafb",textColor:"#374151"}})(),a=()=>r?d.jsx(Do,{className:"h-4 w-4"}):t.isEnding?d.jsx(Nx,{className:"h-4 w-4"}):n.length>0?d.jsx(ps,{className:"h-4 w-4"}):null;return d.jsxs("div",{className:"px-4 py-3 shadow-lg rounded-lg border-2 min-w-[200px] cursor-pointer hover:shadow-xl transition-shadow",style:{borderColor:l.borderColor,backgroundColor:l.backgroundColor},onClick:i,children:[d.jsx(Lr,{type:"target",position:X.Top,className:"w-3 h-3",style:{backgroundColor:l.borderColor}}),d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{style:{color:l.textColor},children:a()}),d.jsx("h3",{className:"font-semibold text-sm truncate max-w-[120px]",style:{color:l.textColor},title:t.title,children:t.title})]}),d.jsx("button",{onClick:u=>{u.stopPropagation(),o()},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Edit node",children:d.jsx(gs,{className:"h-3 w-3 text-gray-600"})})]}),d.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[d.jsxs("div",{children:["Choices: ",t.choices.length]}),r&&d.jsx("div",{className:"text-green-600 font-medium",children:"START"}),t.isEnding&&d.jsx("div",{className:"text-blue-600 font-medium",children:"ENDING"})]}),n.length>0&&d.jsxs("div",{className:"space-y-1",children:[n.slice(0,2).map((u,c)=>d.jsx("div",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:u.type==="orphaned"||u.type==="broken_connection"?"#fee2e2":"#fef3c7",color:u.type==="orphaned"||u.type==="broken_connection"?"#dc2626":"#d97706"},children:u.message},c)),n.length>2&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",n.length-2," more issues"]})]}),d.jsx(Lr,{type:"source",position:X.Bottom,className:"w-3 h-3",style:{backgroundColor:l.borderColor}})]})},oc=e=>{const t={},n=Object.values(e.nodes),r=Object.keys(e.nodes),o=YN(e),i=XN(e);return n.forEach(s=>{const l=[];s.id!==e.startNodeId&&(o[s.id]||0)===0&&l.push({type:"orphaned",message:"This node has no incoming connections and is not the start node",severity:"critical"}),!s.isEnding&&s.choices.length===0&&l.push({type:"dead_end",message:"Non-ending node has no choices - players will be stuck",severity:"critical"}),s.choices.forEach(a=>{r.includes(a.targetNodeId)||l.push({type:"broken_connection",message:`Choice "${a.text}" points to non-existent node`,severity:"critical"})}),i.has(s.id)||l.push({type:"unreachable",message:"This node cannot be reached from the start node",severity:"warning"}),!s.isEnding&&s.choices.length===1&&l.push({type:"no_choices",message:"Consider adding more choices for better branching narrative",severity:"info"}),l.length>0&&(t[s.id]=l)}),t},YN=e=>{const t={};return Object.values(e.nodes).forEach(n=>{n.choices.forEach(r=>{t[r.targetNodeId]=(t[r.targetNodeId]||0)+1})}),t},XN=e=>{const t=new Set,n=[e.startNodeId];for(;n.length>0;){const r=n.shift();if(t.has(r))continue;t.add(r);const o=e.nodes[r];o&&o.choices.forEach(i=>{t.has(i.targetNodeId)||n.push(i.targetNodeId)})}return t},KN=e=>{const t=oc(e),n=Object.keys(e.nodes).length;let r=0,o=0,i=0;Object.values(t).forEach(l=>{l.forEach(a=>{switch(a.severity){case"critical":r++;break;case"warning":o++;break;case"info":i++;break}})});const s=n-Object.keys(t).length;return{totalNodes:n,healthyNodes:s,criticalIssues:r,warnings:o,suggestions:i}},QN=({story:e,onNodeClick:t,onNodeEdit:n})=>{const r=j.useMemo(()=>({storyNode:WN}),[]),o=j.useMemo(()=>{const g=Object.values(e.nodes),v=oc(e);return g.map((x,N)=>{const p=v[x.id]||[];return{id:x.id,type:"storyNode",position:{x:N%3*300,y:Math.floor(N/3)*200},data:{node:x,issues:p,isStartNode:e.startNodeId===x.id,onEdit:()=>n(x.id),onClick:()=>t(x.id)}}})},[e,t,n]),i=j.useMemo(()=>{const g=[];return Object.values(e.nodes).forEach(v=>{v.choices.forEach((x,N)=>{const p=e.nodes[x.targetNodeId];g.push({id:`${v.id}-${x.targetNodeId}-${N}`,source:v.id,target:x.targetNodeId,label:x.text.length>30?`${x.text.substring(0,30)}...`:x.text,type:"smoothstep",style:{stroke:p?"#10b981":"#ef4444",strokeWidth:2},labelStyle:{fontSize:12,fontWeight:500},labelBgStyle:{fill:"#374151",fillOpacity:.9}})})}),g},[e]),[s,l,a]=wN(o),[u,c,f]=SN(i),h=j.useCallback(g=>c(v=>w0(g,v)),[c]);return d.jsx("div",{className:"h-96 bg-gray-900 rounded-lg border border-gray-700",children:d.jsxs(tm,{nodes:s,edges:u,onNodesChange:a,onEdgesChange:f,onConnect:h,nodeTypes:r,fitView:!0,attributionPosition:"bottom-left",children:[d.jsx(DN,{className:"bg-gray-800 border-gray-600"}),d.jsx(zN,{className:"bg-gray-800 border-gray-600",nodeColor:g=>{var x,N;return(((x=g.data)==null?void 0:x.issues)||[]).length>0?"#ef4444":(N=g.data)!=null&&N.isStartNode?"#10b981":"#6b7280"}}),d.jsx(UN,{variant:ut.Dots,gap:20,size:1,color:"#374151"})]})})},GN=({story:e,onNodeSelect:t})=>{const n=oc(e),r=KN(e),o=[];Object.entries(n).forEach(([u,c])=>{const f=e.nodes[u];f&&c.forEach(h=>{o.push({...h,nodeId:u,nodeTitle:f.title})})});const i=o.filter(u=>u.type==="orphaned"||u.type==="broken_connection"),s=o.filter(u=>u.type==="dead_end"||u.type==="no_choices"),l=o.filter(u=>!i.includes(u)&&!s.includes(u)),a=u=>{switch(u){case"orphaned":case"broken_connection":return d.jsx(ps,{className:"h-4 w-4 text-red-500"});case"dead_end":case"no_choices":return d.jsx(xd,{className:"h-4 w-4 text-yellow-500"});default:return d.jsx(Sd,{className:"h-4 w-4 text-blue-500"})}};return d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-semibold text-white",children:"Story Health Analysis"}),o.length===0&&d.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[d.jsx(vd,{className:"h-5 w-5"}),d.jsx("span",{className:"text-sm font-medium",children:"All Good!"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalNodes}),d.jsx("div",{className:"text-sm text-gray-300",children:"Total Nodes"})]}),d.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-red-400",children:i.length}),d.jsx("div",{className:"text-sm text-gray-300",children:"Critical Issues"})]}),d.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:s.length}),d.jsx("div",{className:"text-sm text-gray-300",children:"Warnings"})]}),d.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-400",children:r.healthyNodes}),d.jsx("div",{className:"text-sm text-gray-300",children:"Healthy Nodes"})]})]}),o.length>0&&d.jsxs("div",{className:"space-y-4",children:[i.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"text-lg font-medium text-red-400 mb-3 flex items-center space-x-2",children:[d.jsx(ps,{className:"h-5 w-5"}),d.jsxs("span",{children:["Critical Issues (",i.length,")"]})]}),d.jsx("div",{className:"space-y-2",children:i.map((u,c)=>d.jsx("div",{className:"bg-red-900/20 border border-red-700/50 rounded-lg p-3 cursor-pointer hover:bg-red-900/30 transition-colors",onClick:()=>t(u.nodeId),children:d.jsxs("div",{className:"flex items-start space-x-3",children:[a(u.type),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-white font-medium",children:u.nodeTitle}),d.jsx("div",{className:"text-red-300 text-sm",children:u.message})]})]})},c))})]}),s.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"text-lg font-medium text-yellow-400 mb-3 flex items-center space-x-2",children:[d.jsx(xd,{className:"h-5 w-5"}),d.jsxs("span",{children:["Warnings (",s.length,")"]})]}),d.jsx("div",{className:"space-y-2",children:s.map((u,c)=>d.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700/50 rounded-lg p-3 cursor-pointer hover:bg-yellow-900/30 transition-colors",onClick:()=>t(u.nodeId),children:d.jsxs("div",{className:"flex items-start space-x-3",children:[a(u.type),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-white font-medium",children:u.nodeTitle}),d.jsx("div",{className:"text-yellow-300 text-sm",children:u.message})]})]})},c))})]}),l.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"text-lg font-medium text-blue-400 mb-3 flex items-center space-x-2",children:[d.jsx(Sd,{className:"h-5 w-5"}),d.jsxs("span",{children:["Suggestions (",l.length,")"]})]}),d.jsxs("div",{className:"space-y-2",children:[l.slice(0,3).map((u,c)=>d.jsx("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3 cursor-pointer hover:bg-blue-900/30 transition-colors",onClick:()=>t(u.nodeId),children:d.jsxs("div",{className:"flex items-start space-x-3",children:[a(u.type),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-white font-medium",children:u.nodeTitle}),d.jsx("div",{className:"text-blue-300 text-sm",children:u.message})]})]})},c)),l.length>3&&d.jsxs("div",{className:"text-center text-gray-400 text-sm",children:["+",l.length-3," more suggestions"]})]})]})]}),o.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(vd,{className:"h-16 w-16 text-green-400 mx-auto mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"Story Looks Great!"}),d.jsx("p",{className:"text-gray-300",children:"No issues detected. Your story structure is well-connected and ready for players."})]})]})},lm="story-game-data",ZN=()=>{try{const e=localStorage.getItem(lm);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load app state:",e)}return{stories:{},saves:[],currentView:"menu"}},qN=e=>{try{localStorage.setItem(lm,JSON.stringify(e))}catch(t){console.error("Failed to save app state:",t)}},JN=e=>{const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=`${e.title.replace(/\s+/g,"_")}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)},ek=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=o=>{var i;try{const s=JSON.parse((i=o.target)==null?void 0:i.result);t(s)}catch{n(new Error("Invalid story file format"))}},r.onerror=()=>n(new Error("Failed to read file")),r.readAsText(e)}),tk=({stories:e,onStoryUpdate:t,onStoryDelete:n})=>{const[r,o]=j.useState(null),[i,s]=j.useState(!1),[l,a]=j.useState(!1),[u,c]=j.useState(null),[f,h]=j.useState(!1),[g,v]=j.useState("overview"),x=()=>{const _={id:Date.now().toString(),title:"New Story",description:"A new adventure awaits...",author:"Anonymous",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),startNodeId:"start",nodes:{start:{id:"start",title:"The Beginning",content:"Your adventure starts here...",choices:[],isEnding:!1}},tags:[],difficulty:"easy"};t(_),o(_.id)},N=(_,C)=>{const I=e[_];I&&t({...I,...C,updatedAt:new Date().toISOString()})},p=(_,C)=>{const I=e[_];if(I){if(f){const L=`node_${Date.now()}`,V={id:L,title:C.title||"New Scene",content:C.content||"",choices:C.choices||[],isEnding:C.isEnding||!1,image:C.image};N(_,{nodes:{...I.nodes,[L]:V}})}else if(u){const L=I.nodes[u];L&&N(_,{nodes:{...I.nodes,[u]:{...L,...C}}})}a(!1),c(null),h(!1)}},m=(_,C)=>{const I=e[_];if(!I)return;if(Object.keys(I.nodes).length<=1){alert("Cannot delete the only node in the story.");return}if(I.startNodeId===C){alert("Cannot delete the starting node. Please set a different starting node first.");return}const{[C]:L,...V}=I.nodes,H=Object.fromEntries(Object.entries(V).map(([S,$])=>[S,{...$,choices:$.choices.filter(M=>M.targetNodeId!==C)}]));N(_,{nodes:H}),a(!1),c(null)},y=_=>{c(_),h(!1),a(!0)},w=()=>{c(null),h(!0),a(!0)},E=async _=>{var I;const C=(I=_.target.files)==null?void 0:I[0];if(C)try{const L=await ek(C);t(L),o(L.id)}catch{alert("Failed to import story. Please check the file format.")}},b=(_,C)=>Object.values(_.nodes).reduce((I,L)=>I+L.choices.filter(V=>V.targetNodeId===C).length,0),z=_=>{y(_)};if(r&&e[r]){const _=e[r];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:()=>o(null),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[d.jsx(Cp,{className:"h-4 w-4"}),d.jsx("span",{children:"Back to Stories"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(bp,{className:"h-4 w-4"}),d.jsx("span",{children:"Story Settings"})]}),d.jsxs("button",{onClick:()=>JN(_),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[d.jsx(yx,{className:"h-4 w-4"}),d.jsx("span",{children:"Export"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:[d.jsx("div",{className:"flex items-start justify-between mb-4",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:_.title}),d.jsx("p",{className:"text-gray-300 mb-3",children:_.description}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[d.jsxs("span",{children:["by ",_.author]}),d.jsx("span",{className:`px-2 py-1 rounded text-xs ${_.difficulty==="easy"?"bg-green-600":_.difficulty==="medium"?"bg-yellow-600":"bg-red-600"} text-white`,children:_.difficulty}),d.jsxs("span",{children:[Object.keys(_.nodes).length," scenes"]})]})]})}),_.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:_.tags.map(C=>d.jsx("span",{className:"px-3 py-1 bg-amber-600 text-white rounded-full text-sm",children:C},C))}),d.jsxs("div",{className:"flex space-x-1 bg-gray-700/50 rounded-lg p-1",children:[d.jsxs("button",{onClick:()=>v("overview"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${g==="overview"?"bg-amber-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-600"}`,children:[d.jsx(wd,{className:"h-4 w-4"}),d.jsx("span",{children:"Overview"})]}),d.jsxs("button",{onClick:()=>v("flow"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${g==="flow"?"bg-amber-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-600"}`,children:[d.jsx(vx,{className:"h-4 w-4"}),d.jsx("span",{children:"Flow Chart"})]}),d.jsxs("button",{onClick:()=>v("issues"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${g==="issues"?"bg-amber-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-600"}`,children:[d.jsx(mx,{className:"h-4 w-4"}),d.jsx("span",{children:"Analysis"})]})]})]}),g==="overview"&&d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Story Scenes"}),d.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx(Oi,{className:"h-4 w-4"}),d.jsx("span",{children:"Add Scene"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.values(_.nodes).map(C=>{const I=b(_,C.id),L=_.startNodeId===C.id;return d.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-650 transition-colors",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h4",{className:"font-medium text-white truncate pr-2",children:C.title}),d.jsx("button",{onClick:()=>y(C.id),className:"text-blue-400 hover:text-blue-300 transition-colors flex-shrink-0",children:d.jsx(gs,{className:"h-4 w-4"})})]}),C.image&&d.jsx("div",{className:"mb-3",children:d.jsx("img",{src:C.image,alt:C.title,className:"w-full h-20 object-cover rounded",onError:V=>{V.currentTarget.style.display="none"}})}),d.jsx("p",{className:"text-gray-300 text-sm mb-3 line-clamp-2",children:C.content}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("span",{className:"text-gray-400",children:[C.choices.length," choices"]}),d.jsxs("span",{className:"text-gray-400",children:[I," incoming"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-1",children:[L&&d.jsx("span",{className:"px-2 py-1 bg-green-600 text-white rounded text-xs",children:"Start"}),C.isEnding&&d.jsx("span",{className:"px-2 py-1 bg-red-600 text-white rounded text-xs",children:"Ending"}),I===0&&!L&&d.jsx("span",{className:"px-2 py-1 bg-yellow-600 text-white rounded text-xs",children:"Orphaned"})]})]})]},C.id)})})]}),g==="flow"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Story Flow Visualization"}),d.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx(Oi,{className:"h-4 w-4"}),d.jsx("span",{children:"Add Scene"})]})]}),d.jsx("p",{className:"text-gray-300 mb-4",children:"Interactive flowchart showing your story structure. Red nodes indicate issues, yellow nodes have warnings, and green indicates the start node."}),d.jsx(QN,{story:_,onNodeClick:z,onNodeEdit:z})]})}),g==="issues"&&d.jsx(GN,{story:_,onNodeSelect:z}),d.jsx(Mx,{isOpen:i,story:_,onSave:C=>N(r,C),onClose:()=>s(!1)}),d.jsx(Tx,{isOpen:l,node:u?_.nodes[u]:null,availableNodes:Object.values(_.nodes),isNewNode:f,onSave:C=>p(r,C),onDelete:u?()=>m(r,u):void 0,onClose:()=>{a(!1),c(null),h(!1)}})]})}return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold text-white",children:"Story Administration"}),d.jsx("p",{className:"text-gray-300",children:"Create and manage your interactive stories"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsxs("label",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors cursor-pointer",children:[d.jsx(kx,{className:"h-4 w-4"}),d.jsx("span",{children:"Import Story"}),d.jsx("input",{type:"file",accept:".json",onChange:E,className:"hidden"})]}),d.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[d.jsx(Oi,{className:"h-4 w-4"}),d.jsx("span",{children:"New Story"})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(e).map(_=>d.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 hover:scale-[1.02] transition-all duration-300 border border-gray-700 hover:border-gray-600",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-xl font-semibold text-white truncate pr-2",children:_.title}),d.jsx("button",{onClick:()=>n(_.id),className:"text-red-400 hover:text-red-300 transition-colors flex-shrink-0",children:d.jsx(ba,{className:"h-4 w-4"})})]}),d.jsx("p",{className:"text-gray-300 mb-4 line-clamp-3",children:_.description}),d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-4",children:[d.jsxs("span",{children:["by ",_.author]}),d.jsx("span",{className:`px-2 py-1 rounded text-xs ${_.difficulty==="easy"?"bg-green-600":_.difficulty==="medium"?"bg-yellow-600":"bg-red-600"} text-white`,children:_.difficulty})]}),_.tags.length>0&&d.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[_.tags.slice(0,3).map(C=>d.jsx("span",{className:"px-2 py-1 bg-amber-600/20 text-amber-300 rounded text-xs",children:C},C)),_.tags.length>3&&d.jsxs("span",{className:"px-2 py-1 bg-gray-600 text-gray-300 rounded text-xs",children:["+",_.tags.length-3]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-400 text-sm",children:[Object.keys(_.nodes).length," scenes"]}),d.jsxs("button",{onClick:()=>o(_.id),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(wd,{className:"h-4 w-4"}),d.jsx("span",{children:"Manage"})]})]})]},_.id))}),Object.keys(e).length===0&&d.jsxs("div",{className:"text-center py-16",children:[d.jsx(ms,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-2xl font-medium text-gray-400 mb-4",children:"No stories yet"}),d.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Create your first interactive story to get started. Build branching narratives with multiple paths and endings."}),d.jsx("button",{onClick:x,className:"px-8 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors font-medium",children:"Create Your First Story"})]})]})},nk=({stories:e,saves:t,onSelectStory:n})=>{const r=s=>{switch(s){case"easy":return"bg-green-600";case"medium":return"bg-yellow-600";case"hard":return"bg-red-600";default:return"bg-gray-600"}},o=s=>t.find(l=>l.storyId===s),i=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Story Library"}),d.jsx("p",{className:"text-gray-300 text-lg",children:"Choose your next adventure"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(e).map(s=>{const l=o(s.id);return d.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] border border-gray-700 hover:border-gray-600",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-white leading-tight pr-2",children:s.title}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium text-white ${r(s.difficulty)}`,children:s.difficulty})]}),d.jsx("p",{className:"text-gray-300 mb-4 line-clamp-3 leading-relaxed",children:s.description}),d.jsxs("div",{className:"space-y-3 mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[d.jsx(Ex,{className:"h-4 w-4"}),d.jsxs("span",{children:["by ",s.author]})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[d.jsx(Mp,{className:"h-4 w-4"}),d.jsxs("span",{children:[Object.keys(s.nodes).length," scenes"]})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[d.jsx(gx,{className:"h-4 w-4"}),d.jsxs("span",{children:["Created ",i(s.createdAt)]})]})]}),l&&d.jsxs("div",{className:"bg-emerald-600/20 border border-emerald-600/30 rounded-lg p-3 mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),d.jsxs("span",{className:"text-sm text-emerald-300 font-medium",children:["Continue as ",l.playerName]})]}),d.jsxs("p",{className:"text-xs text-emerald-400 mt-1",children:["Saved ",i(l.savedAt)]})]}),d.jsxs("button",{onClick:()=>n(s.id),className:"w-full flex items-center justify-center space-x-2 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors font-medium",children:[d.jsx(Do,{className:"h-4 w-4"}),d.jsx("span",{children:l?"Continue Story":"Start Adventure"})]})]},s.id)})}),Object.keys(e).length===0&&d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"text-6xl mb-6",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-gray-400 mb-4",children:"No Stories Available"}),d.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"There are no stories in the library yet. Create your first story using the admin panel or import stories from other creators."})]})]})},rk=({story:e,saves:t,onSave:n,onBack:r})=>{const[o,i]=j.useState(e.startNodeId),[s,l]=j.useState(""),[a,u]=j.useState([]),[c,f]=j.useState(!0),[h,g]=j.useState(!1),v=e.nodes[o],x=t.find(E=>E.storyId===e.id);j.useEffect(()=>{x&&!h&&(l(x.playerName),f(!1))},[x,h]);const N=()=>{s.trim()&&(f(!1),g(!0))},p=()=>{x&&(i(x.currentNodeId),u(x.choices),l(x.playerName),f(!1),g(!0))},m=(E,b)=>{const z=[...a,E];u(z),i(b)},y=()=>{const E={storyId:e.id,currentNodeId:o,playerName:s,savedAt:new Date().toISOString(),choices:a};n(E)},w=()=>{i(e.startNodeId),u([]),g(!0)};return c?d.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:d.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-md w-full",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Ready to begin your adventure?"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter your name"}),d.jsx("input",{type:"text",value:s,onChange:E=>l(E.target.value),onKeyPress:E=>E.key==="Enter"&&N(),placeholder:"Your name here...",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent",autoFocus:!0})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:N,disabled:!s.trim(),className:"flex-1 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors font-medium",children:"Start New Game"}),x&&d.jsx("button",{onClick:p,className:"flex-1 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-medium",children:"Continue Saved"})]}),d.jsx("button",{onClick:r,className:"w-full py-2 text-gray-400 hover:text-white transition-colors",children:"Back to Library"})]})]})}):v?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:r,className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[d.jsx(Cp,{className:"h-4 w-4"}),d.jsx("span",{children:"Back to Library"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("span",{className:"text-gray-300",children:["Playing as ",d.jsx("span",{className:"text-amber-400 font-medium",children:s})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-3 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx(Fu,{className:"h-4 w-4"}),d.jsx("span",{children:"Save"})]}),d.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[d.jsx(wx,{className:"h-4 w-4"}),d.jsx("span",{children:"Restart"})]})]})]})]}),d.jsx("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-8 shadow-2xl",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold text-white mb-6 leading-tight",children:v.title}),d.jsx("div",{className:"prose prose-lg prose-invert max-w-none mb-8",children:d.jsx("p",{className:"text-gray-200 leading-relaxed whitespace-pre-wrap text-lg",children:v.content})}),v.isEnding?d.jsxs("div",{className:"text-center space-y-6 py-8",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h2",{className:"text-2xl font-bold text-amber-400 mb-4",children:"The End"}),d.jsxs("p",{className:"text-gray-300 mb-6",children:["Thank you for playing, ",s,"! Your journey has come to a conclusion."]}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx("button",{onClick:w,className:"px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Play Again"}),d.jsx("button",{onClick:r,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Choose Another Story"})]})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-4",children:"What do you choose?"}),d.jsx("div",{className:"grid gap-3",children:v.choices.map((E,b)=>d.jsx("button",{onClick:()=>m(E.text,E.targetNodeId),className:"text-left p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all duration-200 border border-gray-600 hover:border-amber-500 hover:shadow-lg hover:shadow-amber-500/10 group",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-600 text-white rounded-full flex items-center justify-center text-sm font-medium group-hover:bg-amber-500 transition-colors",children:b+1}),d.jsx("span",{className:"text-white group-hover:text-amber-100 transition-colors",children:E.text})]})},E.id))})]})]})}),a.length>0&&d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Your Journey"}),d.jsx("div",{className:"space-y-2",children:a.map((E,b)=>d.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[d.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-gray-600 text-white rounded-full flex items-center justify-center text-xs",children:b+1}),d.jsx("span",{className:"text-gray-300",children:E})]},b))})]})]}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:"Story Error"}),d.jsx("p",{className:"text-gray-300 mb-6",children:"The current story node could not be found."}),d.jsx("button",{onClick:w,className:"px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Restart Story"})]})};function ok(){const[e,t]=j.useState(()=>ZN()),[n,r]=j.useState(null);j.useEffect(()=>{qN(e)},[e]);const o=f=>{t(h=>({...h,stories:{...h.stories,[f.id]:f}}))},i=f=>{const{[f]:h,...g}=e.stories;t(v=>({...v,stories:g,saves:v.saves.filter(x=>x.storyId!==f)}))},s=f=>{t(h=>{const g=h.saves.findIndex(x=>x.storyId===f.storyId),v=[...h.saves];return g>=0?v[g]=f:v.push(f),{...h,saves:v}})},l=f=>{t(h=>({...h,currentView:f})),r(null)},a=f=>{r(f),t(h=>({...h,currentView:"play"}))},u=()=>{r(null),t(f=>({...f,currentView:"library"}))},c=()=>{if(e.currentView==="play"&&n){const f=e.stories[n];if(f)return d.jsx(rk,{story:f,saves:e.saves,onSave:s,onBack:u})}switch(e.currentView){case"admin":return d.jsx(tk,{stories:e.stories,onStoryUpdate:o,onStoryDelete:i});case"library":return d.jsx(nk,{stories:e.stories,saves:e.saves,onSelectStory:a});case"menu":default:return d.jsx(bx,{storiesCount:Object.keys(e.stories).length,savesCount:e.saves.length,onViewChange:l})}};return d.jsx(jx,{currentView:e.currentView,onViewChange:l,children:c()})}_p(document.getElementById("root")).render(d.jsx(j.StrictMode,{children:d.jsx(ok,{})}));
